(function(s,y,h,S){var l=function(){var d={};return{register:function(e,h){d[e]=h},require:function(e,h){var k=d[e];if(!k)throw Error('CommonJS error: failed to require("'+h+'")');return k}}}();l.register("$1",function(d,e,h){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null==this)throw new TypeError;var b,g=Object(this),a=g.length>>>0;if(0===a)return-1;b=0;1<arguments.length&&(b=Number(arguments[1]),b!=b?b=0:0!=b&&Infinity!=b&&-Infinity!=b&&(b=(0<b||-1)*Math.floor(Math.abs(b))));
if(b>=a)return-1;for(b=0<=b?b:Math.max(a-Math.abs(b),0);b<a;b++)if(b in g&&g[b]===e)return b;return-1});return d}({},s,y));l.register("$35",function(d,e,h){function k(c){a||e._gat&&(a=_gat._createTracker(b,"loco"));if(a){var f=c.shift();a[f].apply(a,c)}else g&&g.push(c);return d}var b,g,a;d._init=function(c){if(b=c.code){g=e._gaq||(e._gaq=[]);g.push(["_setAccount",b]);g.push(["_trackPageview"]);g.push(["_setDomainName",c.host]);c=h.createElement("script");c.type="text/javascript";c.async=!0;c.src=
("https:"==h.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var a=h.getElementsByTagName("script")[0];a.parentNode.insertBefore(c,a)}return d};d.event=function(a,f,b,g){return k(["_trackEvent",a||"",f||"",b||"",g||0])};d.page=function(a,f){return k(["_trackPageview",{page:a||location.pathname+location.hash,title:f||h.title}])};return d}({},s,y));l.register("$36",function(d,e,h){function k(a,c){if(b)b[a](c);else e.ga&&ga(a,c);return d}var b,g;d._init=function(a){a.code&&
(function(a,f,b,g,p,q,r){a.GoogleAnalyticsObject=p;a[p]=a[p]||function(){(a[p].q=a[p].q||[]).push(arguments)};a[p].l=1*new Date;q=f.createElement(b);r=f.getElementsByTagName(b)[0];q.async=1;q.src=g;r.parentNode.insertBefore(q,r)}(e,h,"script","//www.google-analytics.com/analytics.js","ga"),ga("create",a.code,{alwaysSendReferrer:!0,userId:a.user}),a.custom&&k("set",a.custom),d.page(),ga(function(a){b=a}));return d};d.event=function(a,c,f,b){return k("send",{hitType:"event",eventCategory:a||"",eventAction:c||
"",eventLabel:f||"",eventValue:Number(b||0)})};d.page=function(a,c){var f={hitType:"pageview",page:a||location.pathname+location.hash,title:c||h.title};f.location=location.protocol+"//"+location.hostname+f.page;g&&k("set",{referrer:g});g=f.location;return k("send",f)};d.reset=function(){g=location.href;k("set",{page:location.pathname+location.hash,title:h.title,location:g});return d};return d}({},s,y));l.register("$28",function(d,e,H){function k(a,f){h(a).click(function(a){b&&b.event(f,"click",this.getAttribute("href")||
"");return!0});a=null;return d}var b,g=location.hostname,a="/help"===location.pathname.substr(0,5);d.init=function(a){!b&&a&&(g=a.host||(a.host=g),b=a.legacy?l.require("$35","legacy.js"):l.require("$36","universal.js"),b._init(a));return d};d.link=function(c){for(var f=c.getAttribute("href");f&&"#"!==f;){if(0===f.indexOf("#"))return k(c,"anchor");if("/help"===f.substr(0,5)&&!a)c.setAttribute("target","_blank");else if(0===f.indexOf("http")||0===f.indexOf("//")){if(-1!==f.indexOf(g)&&/^(https?:)*\/\/([^\/]+)/.exec(f)&&
g===RegExp.$2)break;c.setAttribute("target","_blank");k(c,"external")}break}return d};d.page=function(){b&&b.page.apply(b,arguments);return d};d.event=function(){b&&b.event.apply(b,arguments);return d};d.reset=function(){b&&b.reset&&b.reset();return d};return d}({},s,y));l.register("$32",function(d,e,l){function k(a,c,f,b,e){function p(){t&&clearTimeout(t);n&&n.fadeOut(400,function(){h(this).remove();n=null});return!1}function q(){r();-1!==b&&(t=setTimeout(p,b||2E3));n.off("mouseleave").on("mouseenter",
r)}function r(){t&&clearTimeout(t);t=null;n.off("mouseenter").on("mouseleave",q)}var t;g||(g=l.createElement("div"),g.id="growls",l.body.appendChild(g));var n=h('<div class="growl growl-'+f+'"><div><a class="close" href="#"><span>X</span></a><span class="badge"></span><p class="message"></p><small class="caption"></small></div></div>');n.find("p").text(a||"Empty message");c?n.find("small").text(c):n.find("small").remove();if(e.length){e.push({label:"Cancel",callback:p,css:"cancel"});var d,v=h('<form action="#" class="dialog"></form>');
c=function(a,c){d=h('<input type="button" value="'+c.label+'" class="butt '+(c.css||"")+'" />');d.click(function(a){"function"===typeof c.callback&&c.callback(a,{close:p})});v.append(d);return d};for(a=0;a<e.length;a++)c(a,e[a]);n.append(v)}h(g).prepend(n.hide().fadeIn(400));n.find("a").click(p);q()}var b,g;d.init=function(){if(!b)return b=e.alert,e.alert=function(a){a=String(a).split("\n");var c=a[1]&&a.slice(1).join("\n");d.alert(a[0],c)},d};d.debug=function(a){b(a);return d};d.alert=function(a,
c,f,m,g){try{return k(a,c||"",f||"alert",m||4E3,g||[]),!0}catch(p){return a+="\n\n--\n"+(p.message||p),b.call(e,a),!1}};d.success=function(a,c,f){return d.alert(a,c,"success",f||2E3)};d.dialog=function(a,c,f,b){return d.alert(a,c,b||"alert",-1,f)};d.login=function(a,c,f,b){d.dialog(c||"You're not logged in",f||"Please log in to continue",[{label:b||"Log in",callback:function(c,f){location.assign(a||"/session/auth/login?r="+encodeURIComponent(location.href))}}])};return d}({},s,y));l.register("$37",
function(d,e,l){function k(a){return 27===a.keyCode&&n&&z?(E(),a.preventDefault(),!1):!0}function b(a){if(n){a=e.innerWidth;var c=e.innerHeight;a!==u&&(u=a,F(C));c!==A&&(A=c,t&&g())}return!0}function g(){var a=f.outerHeight(!0)-t.clientHeight;t.style.maxHeight=String(A-a)+"px"}function a(a){a?(p.show(),m.addClass("has-title")):(p.hide(),m.removeClass("has-title"))}var c,f,m,w,p,q,r,t,n=!1,z=!1,v=!1,I,B,u,C,A,D=d.init=function(){if(!c){c=h('<div id="overlay"></div>');f=h('<div class="overlay-frame"></div>');
m=h('<div class="overlay-container"></div>');p=h('<div class="overlay-title"><span class="icon"></span><span class="title">Untitled</span></div>');q=h("<nav></nav>");r=h('<a class="overlay-close" href="#"><span>x</span></a>');w=h('<div class="overlay-bg"></div>');c.append(f.append(m)).append(w).prependTo(l.body);h(l).on("keydown",k);h(e).resize(b);u=e.innerWidth;A=e.innerHeight;B=m.outerWidth(!0)-m.width()+(f.innerWidth()-f.width());I=parseInt(m.css("width"));if(!I||isNaN(I))I=m.width();q.hide().prependTo(f);
p.append(r.hide()).hide().prependTo(f);c.hide()}return c},F=d.width=function(a){var c=D();if(null===a)f.css("width",""),m.css("width","");else{a=a||I||640;x=a+B;C=a;var b=u;x>b?(x=b,a=x-B,c.addClass("spill")):c.removeClass("spill");f.css("width",x+"px");m.css("width",a+"px")}return d};d.autoSize=function(){var a=D(),c=I||0;m.children().each(function(a,f){c=Math.max(c,h(f).outerWidth(!0))});F(c);if(t=a.find("div.overlay-scroll")[0])A=e.innerHeight,g();return d};d.css=function(a){D().attr("class",a);
return d};d.html=function(a){D();e.innerShiv&&(a=innerShiv(a,!1));return m.html(a)};d.append=function(a){D();a instanceof jQuery||(a=h(a));m.append(a);return d};var E=d.close=function(a){if(n){var f=function(){D().hide();h(l.body).removeClass("has-overlay");n=!1;m.html("");n=null;c.trigger("overlayClosed",[d])};null==a&&(a=300);c.trigger("overlayClosing",[d]);a?c.fadeOut(a,f):f()}return d};d.title=function(c,f){D();var b="",n=p.find("span");f&&/^lang lang-(\w+)/.exec(f)&&(b=RegExp.$1);n.eq(0).attr("class",
f||"icon").attr("lang",b);v=c||"";n.eq(1).text(v);null!=c?a(!0):z||a(!1);return d};d.enableClose=function(){D();z=!0;r.off("click").on("click",function(a){E();return!1});a(!0);r.show();return d};d.disableClose=function(){D();z=!1;r.hide();n&&v||a(!1);return d};d.enableNav=function(a){q.append(a);q.show();return d};d.disableNav=function(){q.html("").hide();return d};d.open=function(){D();m.html("");F(I);c.attr("class","");h(l.body).addClass("has-overlay");D().show();n=!0;d.title(null);z&&a(!0);c.trigger("overlayOpened",
[d]);return d};d.listen=function(a){D().on("overlayClosed",a);return d};d.unlisten=function(a){D().off("overlayClosed",a);return d};return d}({},s,y));l.register("$20",function(d,e,l){function k(a,c){this.$element=h(a);this.options=c;this.enabled=!0;this.fixTitle()}d.init=function(a,c){var f={fade:!0,offset:5,delayIn:b,delayOut:g,anchor:a.attr("data-anchor"),gravity:a.attr("data-gravity")||"s"};c&&(f=h.extend({},f,c));a.tipsy(f)};d.delays=function(a,c){b=a||150;g=c||100};d.kill=function(){h("div.tipsy").remove()};
d.text=function(a,c){c.data("tipsy").setTitle(a)};var b,g;d.delays();h(l.body).on("overlayOpened overlayClosing",function(a){d.kill();return!0});k.prototype={show:function(){var a=this.getTitle();if(a&&this.enabled){var c=this.tip();c.find(".tipsy-inner")[this.options.html?"html":"text"](a);c[0].className="tipsy";c.remove().css({top:0,left:0}).prependTo(l.body);var a=(a=this.options.anchor)?this.$element.find(a):this.$element,a=h.extend({},a.offset(),{width:a[0].offsetWidth,height:a[0].offsetHeight}),
f=c[0].offsetWidth,b=c[0].offsetHeight,g="function"==typeof this.options.gravity?this.options.gravity.call(this.$element[0]):this.options.gravity,p;switch(g.charAt(0)){case "n":p={top:a.top+a.height+this.options.offset,left:a.left+a.width/2-f/2};break;case "s":p={top:a.top-b-this.options.offset,left:a.left+a.width/2-f/2};break;case "e":p={top:a.top+a.height/2-b/2,left:a.left-f-this.options.offset};break;case "w":p={top:a.top+a.height/2-b/2,left:a.left+a.width+this.options.offset}}2==g.length&&("w"==
g.charAt(1)?p.left=a.left+a.width/2-15:p.left=a.left+a.width/2-f+15);c.css(p).addClass("tipsy-"+g);c.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+g.charAt(0);this.options.className&&c.addClass("function"==typeof this.options.className?this.options.className.call(this.$element[0]):this.options.className);c.addClass("in")}},hide:function(){this.tip().remove()},fixTitle:function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("original-title"))&&a.attr("original-title",
a.attr("title")||"").removeAttr("title")},getTitle:function(){var a,c=this.$element,f=this.options;this.fixTitle();f=this.options;"string"==typeof f.title?a=c.attr("title"==f.title?"original-title":f.title):"function"==typeof f.title&&(a=f.title.call(c[0]));return(a=(""+a).replace(/(^\s*|\s*$)/,""))||f.fallback},setTitle:function(a){var c=this.$element;c.attr("default-title")||c.attr("default-title",this.getTitle());null==a&&(a=c.attr("default-title")||this.getTitle());c.attr("original-title",a);
if(this.$tip)this.$tip.find(".tipsy-inner")[this.options.html?"html":"text"](a)},tip:function(){this.$tip||(this.$tip=h('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>'),this.$tip.data("tipsy-pointee",this.$element[0]));return this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.options=this.$element=null)},enable:function(){this.enabled=!0},disable:function(){this.hide();this.enabled=!1},toggleEnabled:function(){this.enabled=
!this.enabled}};h.fn.tipsy=function(a){function c(c){var f=h.data(c,"tipsy");f||(f=new k(c,h.fn.tipsy.elementOptions(c,a)),h.data(c,"tipsy",f));return f}function f(){var f=c(this),b=a.delayIn;f.hoverState="in";0==b?f.show():(f.fixTitle(),setTimeout(function(){"in"==f.hoverState&&f.show()},b))}function b(){var f=c(this),m=a.delayOut;f.hoverState="out";0==m?f.hide():(f.tip().removeClass("in"),setTimeout(function(){"out"==f.hoverState&&f.hide()},m))}a=h.extend({},h.fn.tipsy.defaults,a);a.live||this.each(function(){c(this)});
if("manual"!=a.trigger){var g=a.live?"live":"bind",p="hover"==a.trigger?"mouseleave":"blur";this[g]("hover"==a.trigger?"mouseenter":"focus",f)[g](p,b)}return this};h.fn.tipsy.defaults={className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:0.8,title:"title",trigger:"hover",anchor:null};h.fn.tipsy.revalidate=function(){h(".tipsy").each(function(){var a=h.data(this,"tipsy-pointee"),c;if(!(c=!a)){a:{for(;a=a.parentNode;)if(a==l){a=!0;break a}a=!1}c=!a}c&&
h(this).remove()})};h.fn.tipsy.elementOptions=function(a,c){return h.metadata?h.extend({},c,h(a).metadata()):c};h.fn.tipsy.autoNS=function(){return h(this).offset().top>h(l).scrollTop()+h(e).height()/2?"s":"n"};h.fn.tipsy.autoWE=function(){return h(this).offset().left>h(l).scrollLeft()+h(e).width()/2?"e":"w"};h.fn.tipsy.autoBounds=function(a,c){return function(){var f=c[0],b=1<c.length?c[1]:!1,g=h(l).scrollTop()+a,p=h(l).scrollLeft()+a,q=h(this);q.offset().top<g&&(f="n");q.offset().left<p&&(b="w");
h(e).width()+h(l).scrollLeft()-q.offset().left<a&&(b="e");h(e).height()+h(l).scrollTop()-q.offset().top<a&&(f="s");return f+(b?b:"")}};return d}({},s,y));l.register("$21",function(d,e,H){var k={401:"You've been logged out",422:"Invalid data sent to server",404:"Not Found",500:"Server Error",502:"Bad Gateway",503:"Service unavailable",504:"Gateway timeout"};d.getErrors=function(){return k};d.jsonLink=function(b){if(!b)return"";b=b.split("?");b[0]=b[0].replace(/(\.[a-z0-9]{1,4})?$/i,".json");return b.join("?")};
d.errorData=function(b,g,a){var c,f;a=b.responseText;g=b.status;if(!a&&0===g)return null;try{c=h.parseJSON(a)||{}}catch(m){c={},f=k[b.status]||m.message||m}c.error=f||c.error||c.statusText||b.statusText||k[g]||"Unknown Error";return c};d.ajax=function(b,g,a,c){function f(){a&&a()}function m(a){a.alert&&alert(a.alert);var b=a.success;b&&l.require("$32","growl.js").success.apply(this,b.push?b:[b]);b=c||h(H.body);b.trigger("locoAjaxSuccess",[a]);var m=a.events;if(m&&m.length)for(var g,n=l.require("$28",
"ga.js");g=m.shift();)b.trigger(g,[a]),n.event("ajax",g);if(b=a.download)e.location.assign(b);else if(b=a.redirect)if(0===b.indexOf("/modal/"))a.modal={url:b};else return e.location.assign(b),!1;else if(a.reload)return e.location.reload(),!1;(b=a.modal)&&l.require("$29","modal.js").replace(b);f();return!0}function w(a,c,b){if("abort"!==c){var t=a.status,n;if(401===t)l.require("$32","growl.js").login(),g&&!1===g(null,k[t],t,a)&&f();else{if("parsererror"===c)e.console&&console.error&&console.error(t,
a.responseText),n=404===t?"Ajax service not found":/^\s+Fatal error/.test(a.responseText)?"Fatal server error from Ajax request":"Bad Ajax response";else{var z=d.errorData(a,c,b);z&&z.error&&(n=z.error)}"function"===typeof g&&!1===g(null,n,t,a)?f():z&&z.data&&!m(z.data)||(alert(n||"Unknown Ajax error"),f())}}}(b.headers||(b.headers={}))["X-Loco-Csrf"]=e.loco&&G.csrf||"";b.error=w;b.success=function(a,c,b){if(!a||"object"!==typeof a)return w(b,"unknown");(a.status||a.error)&&alert(a.error||a.statusText||
b.statusText||k[a.status]||"Unknown Error");"function"===typeof g&&!1===g(a&&a.data?a.data:a,null,c,b)?f():a&&a.data?m(a.data):f()};-1!==b.url.indexOf(".json")&&(b.dataType="json");return h.ajax(b)};return d}({},s,y));l.register("$29",function(d,e,H){function k(a){a.stopPropagation();a.preventDefault();return!1}function b(){m||(m=l.require("$37","overlay.js"),m.listen(c));return m}function g(){var a=q.length-1,c=q[a],f=h('<a class="has-icon icon-back" data-gravity="w">Back</a>').attr("href",c[0]).attr("title",
c[1]).click(function(f){if(q[a]===c&&z())return k(f)});m.enableNav(f);l.require("$20","tooltip.js").init(f)}function a(a,c){b().autoSize();var f=m.init();l.require("$15","html.js").init(f);q.length&&g();f.find("[data-script]").each(function(a,f){f=h(f);for(var b=-1,n,m=f.attr("data-script").split(" ");++b<m.length;)n=m[b],p[n]?p[n](f,c||{}):alert("Unknown script "+n)});f.trigger("locoModalLoaded",[m,a||"",c||{}]);var n,r=f.find("form")[0],t;if(r)a:for(f=0;f<r.elements.length;f++)switch(n=r.elements[f],
n.type){case "text":case "email":case "textarea":t=Number(n.getAttribute("tabindex"));if(isNaN(t)||100>t)continue a;h(n).focus();break a}}function c(){r=null;q=[];return!0}function f(a){var c=h(a.currentTarget),f=c.attr("data-modal");if("back"===f){if(z())return k(a);f="close"}if("close"===f){n();var b=c.attr("href");if(b&&-1!==b.indexOf("#!"))return!0}else{var m="submit"===a.type,g=c.attr("title")||c.attr("data-title"),b=c.attr("href")||c.attr("action"),r=m?c.serialize():"",c=m?c.attr("method"):
"get";f||(f=b.split("/").slice(1,4).join("-"));t(b,g,c,r,"modal "+f)}return k(a)}var m,w=l.require("$28","ga.js"),p={},q=[],r,t=d.load=function(c,f,n,g,e){var p=r;r=[].slice.call(arguments);p&&c!==p[0]&&(q.push(p),c+=-1===c.indexOf("?")?"?":"&",c+="r="+encodeURIComponent(p[0]));b().open().title("Loading ..").disableClose().disableNav().css("modal").html('<div class="loading"></div>');e&&m.width(null).css(e).autoSize();var p=c.split("#"),z=p[1];z&&(c=p[0]);var p=l.require("$21","http.js"),k={type:n||
"get",data:g||"",url:p.jsonLink(c)};p.ajax(k,function(b,d,p){var k=b&&b.html;if(!k)return b&&b.redirect?(r=q.pop()||null,t(b.redirect,f,n,g,e)):(b=h('<h3 class="error"></h3>').text(d||"Unknown error"),m.enableClose().title("Error "+p||"?").html("").append(b)),!1;f=b.title||f||"Untitled";r&&(r[1]=f);m.enableClose().title(f,b.icon).html(k);p=b.js||{};z&&(p["#"]=z);a(c,p);w.page(c,f);m.init().one("overlayClosed",function(){w.reset()});return!0});return d},n=d.close=function(){b().close();return d},z=
d.back=function(){if(previous=q.pop())return r=q[q.length-2],t.apply(null,previous),!0};d.reload=function(){r&&t.apply(null,r)};d.initLink=function(a){a.click(f)};d.initForm=function(a){h(a).submit(f)};d.replace=function(c){b();var f=c&&c.html,n=c&&c.url,g=c&&c.title,r=c&&c.action;if(n)c=c&&c.css||n.split("/").slice(1,4).join("-"),t(n,g,"","",c);else if(f)m.open().html(f),g&&m.enableClose().title(g),a("",c&&c.js);else if("function"===typeof d[r])d[r]()};d.find=function(a){return b().init().find(a)};
d.script=function(a,c){if(c){if("function"!==typeof c.run)throw Error(a+" macro has no run function");p[a]=c.run;return d}return p[a]};return d}({},s,y));l.register("$7",function(d,e,l){d.listen=function(d,b){function g(){t[m?"show":"hide"]()}function a(a){r&&d.setAttribute("size",a.length||1);m=a;g();return a}function c(){w=null;b(m)}function f(){var f=d.value;q&&f===q&&(f="");f!==m&&(w&&clearTimeout(w),a(f),p?w=setTimeout(c,p):c())}var m,w;d=d instanceof jQuery?d[0]:d;var p=150,q=e.attachEvent&&
d.getAttribute("placeholder"),r=1===Number(d.size),t=h('<a href="#clear" tabindex="-1" class="icon clear"><span>clear</span></a>').click(function(a){d.value="";f();return!1});a(d.value);h(d).on("input paste blur focus",function(){f();return!0}).after(t);g();return{delay:function(a){p=a},ping:function(b){b?(w&&clearTimeout(w),b=d.value,q&&b===q&&(b=""),a(b),c(),b=void 0):b=f();return b},val:function(c){if(null==c)return m;w&&clearTimeout(w);d.value=a(c);g()},el:function(){return d},blur:function(a){return h(d).on("blur",
a)}}};return d}({},s,y));l.register("$19",{"\u00e1":"a","\u00e0":"a","\u0103":"a","\u1eaf":"a","\u1eb1":"a","\u1eb5":"a","\u1eb3":"a","\u00e2":"a","\u1ea5":"a","\u1ea7":"a","\u1eab":"a","\u1ea9":"a","\u01ce":"a","\u00e5":"a","\u01fb":"a","\u00e4":"a","\u01df":"a","\u00e3":"a","\u0227":"a","\u01e1":"a","\u0105":"a","\u0101":"a","\u1ea3":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1eb7":"a","\u1ead":"a","\u1e01":"a","\u01fd":"\u00e6","\u01e3":"\u00e6","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0107":"c",
"\u0109":"c","\u010d":"c","\u010b":"c","\u00e7":"c","\u1e09":"c","\u010f":"d","\u1e0b":"d","\u1e11":"d","\u0111":"d","\u1e0d":"d","\u1e13":"d","\u1e0f":"d","\u00f0":"d","\ua77a":"d","\u01c6":"\u01f3","\u00e9":"e","\u00e8":"e","\u0115":"e","\u00ea":"e","\u1ebf":"e","\u1ec1":"e","\u1ec5":"e","\u1ec3":"e","\u011b":"e","\u00eb":"e","\u1ebd":"e","\u0117":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u0113":"e","\u1e17":"e","\u1e15":"e","\u1ebb":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u1e19":"e",
"\u1e1b":"e","\u1e1f":"f","\ua77c":"f","\u01f5":"g","\u011f":"g","\u011d":"g","\u01e7":"g","\u0121":"g","\u0123":"g","\u1e21":"g","\ua7a1":"g","\u1d79":"g","\u0125":"h","\u021f":"h","\u1e27":"h","\u1e23":"h","\u1e29":"h","\u0127":"h","\u210f":"h","\u1e25":"h","\u1e2b":"h","\u1e96":"h","\u00ed":"i","\u00ec":"i","\u012d":"i","\u00ee":"i","\u01d0":"i","\u00ef":"i","\u1e2f":"i","\u0129":"i","\u012f":"i","\u012b":"i","\u1ec9":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u1e2d":"i","\u0135":"j","\u01f0":"j",
"\u1e31":"k","\u01e9":"k","\u0137":"k","\ua7a3":"k","\u1e33":"k","\u1e35":"k","\u013a":"l","\u013e":"l","\u013c":"l","\u0142":"l","\u1e37":"l","\u1e39":"l","\u1e3d":"l","\u1e3b":"l","\u0140":"l","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0144":"n","\u01f9":"n","\u0148":"n","\u00f1":"n","\u1e45":"n","\u0146":"n","\ua7a5":"n","\u1e47":"n","\u1e4b":"n","\u1e49":"n","\u00f3":"o","\u00f2":"o","\u014f":"o","\u00f4":"o","\u1ed1":"o","\u1ed3":"o","\u1ed7":"o","\u1ed5":"o","\u01d2":"o","\u00f6":"o","\u022b":"o",
"\u0151":"o","\u00f5":"o","\u1e4d":"o","\u1e4f":"o","\u022d":"o","\u022f":"o","\u0231":"o","\u00f8":"o","\u01ff":"o","\u01eb":"o","\u01ed":"o","\u014d":"o","\u1e53":"o","\u1e51":"o","\u1ecf":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edb":"o","\u1edd":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u1e55":"p","\u1e57":"p","\u0155":"r","\u0159":"r","\u1e59":"r","\u0157":"r","\ua7a7":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u1e5f":"r","\ua783":"r","\u015b":"s",
"\u1e65":"s","\u015d":"s","\u0161":"s","\u1e67":"s","\u1e61":"s","\u015f":"s","\ua7a9":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u017f":"s","\ua785":"s","\u1e9b":"s","\u0165":"t","\u1e97":"t","\u1e6b":"t","\u0163":"t","\u1e6d":"t","\u021b":"t","\u1e71":"t","\u1e6f":"t","\ua787":"t","\u00fa":"u","\u00f9":"u","\u016d":"u","\u00fb":"u","\u01d4":"u","\u016f":"u","\u00fc":"u","\u01d8":"u","\u01dc":"u","\u01da":"u","\u01d6":"u","\u0171":"u","\u0169":"u","\u1e79":"u","\u0173":"u","\u016b":"u","\u1e7b":"u",
"\u1ee7":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1ee9":"u","\u1eeb":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u1e77":"u","\u1e75":"u","\u1e7d":"v","\u1e7f":"v","\u1e83":"w","\u1e81":"w","\u0175":"w","\u1e98":"w","\u1e85":"w","\u1e87":"w","\u1e89":"w","\u1e8d":"x","\u1e8b":"x","\u00fd":"y","\u1ef3":"y","\u0177":"y","\u1e99":"y","\u00ff":"y","\u1ef9":"y","\u1e8f":"y","\u0233":"y","\u1ef7":"y","\u1ef5":"y","\u017a":"z","\u1e91":"z","\u017e":"z","\u017c":"z","\u1e93":"z",
"\u1e95":"z","\u01ef":"\u0292","\u1f00":"\u03b1","\u1f04":"\u03b1","\u1f84":"\u03b1","\u1f02":"\u03b1","\u1f82":"\u03b1","\u1f06":"\u03b1","\u1f86":"\u03b1","\u1f80":"\u03b1","\u1f01":"\u03b1","\u1f05":"\u03b1","\u1f85":"\u03b1","\u1f03":"\u03b1","\u1f83":"\u03b1","\u1f07":"\u03b1","\u1f87":"\u03b1","\u1f81":"\u03b1","\u03ac":"\u03b1","\u1f71":"\u03b1","\u1fb4":"\u03b1","\u1f70":"\u03b1","\u1fb2":"\u03b1","\u1fb0":"\u03b1","\u1fb6":"\u03b1","\u1fb7":"\u03b1","\u1fb1":"\u03b1","\u1fb3":"\u03b1","\u1f10":"\u03b5",
"\u1f14":"\u03b5","\u1f12":"\u03b5","\u1f11":"\u03b5","\u1f15":"\u03b5","\u1f13":"\u03b5","\u03ad":"\u03b5","\u1f73":"\u03b5","\u1f72":"\u03b5","\u1f20":"\u03b7","\u1f24":"\u03b7","\u1f94":"\u03b7","\u1f22":"\u03b7","\u1f92":"\u03b7","\u1f26":"\u03b7","\u1f96":"\u03b7","\u1f90":"\u03b7","\u1f21":"\u03b7","\u1f25":"\u03b7","\u1f95":"\u03b7","\u1f23":"\u03b7","\u1f93":"\u03b7","\u1f27":"\u03b7","\u1f97":"\u03b7","\u1f91":"\u03b7","\u03ae":"\u03b7","\u1f75":"\u03b7","\u1fc4":"\u03b7","\u1f74":"\u03b7",
"\u1fc2":"\u03b7","\u1fc6":"\u03b7","\u1fc7":"\u03b7","\u1fc3":"\u03b7","\u1f30":"\u03b9","\u1f34":"\u03b9","\u1f32":"\u03b9","\u1f36":"\u03b9","\u1f31":"\u03b9","\u1f35":"\u03b9","\u1f33":"\u03b9","\u1f37":"\u03b9","\u03af":"\u03b9","\u1f77":"\u03b9","\u1f76":"\u03b9","\u1fd0":"\u03b9","\u1fd6":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u1fd3":"\u03b9","\u1fd2":"\u03b9","\u1fd7":"\u03b9","\u1fd1":"\u03b9","\u1f40":"\u03bf","\u1f44":"\u03bf","\u1f42":"\u03bf","\u1f41":"\u03bf","\u1f45":"\u03bf",
"\u1f43":"\u03bf","\u03cc":"\u03bf","\u1f79":"\u03bf","\u1f78":"\u03bf","\u1fe4":"\u03c1","\u1fe5":"\u03c1","\u1f50":"\u03c5","\u1f54":"\u03c5","\u1f52":"\u03c5","\u1f56":"\u03c5","\u1f51":"\u03c5","\u1f55":"\u03c5","\u1f53":"\u03c5","\u1f57":"\u03c5","\u03cd":"\u03c5","\u1f7b":"\u03c5","\u1f7a":"\u03c5","\u1fe0":"\u03c5","\u1fe6":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u1fe3":"\u03c5","\u1fe2":"\u03c5","\u1fe7":"\u03c5","\u1fe1":"\u03c5","\u1f60":"\u03c9","\u1f64":"\u03c9","\u1fa4":"\u03c9",
"\u1f62":"\u03c9","\u1fa2":"\u03c9","\u1f66":"\u03c9","\u1fa6":"\u03c9","\u1fa0":"\u03c9","\u1f61":"\u03c9","\u1f65":"\u03c9","\u1fa5":"\u03c9","\u1f63":"\u03c9","\u1fa3":"\u03c9","\u1f67":"\u03c9","\u1fa7":"\u03c9","\u1fa1":"\u03c9","\u03ce":"\u03c9","\u1f7d":"\u03c9","\u1ff4":"\u03c9","\u1f7c":"\u03c9","\u1ff2":"\u03c9","\u1ff6":"\u03c9","\u1ff7":"\u03c9","\u1ff3":"\u03c9","\u0491":"\u0433","\u0450":"\u0435","\u0451":"\u0435","\u04c2":"\u0436","\u045d":"\u0438","\u04e3":"\u0438","\u04ef":"\u0443"});
l.register("$6",function(d,e,h){d.init=function(){function d(a){return e[a]||a}function b(a){return String(a||"").toLowerCase().replace(f,d)}function g(a,c,f){for(var b=a.split(m),n=b.length;0!==n--;)(a=b[n])&&null==f[a]&&(c.push(a),f[a]=!0);return c}function a(a,f){for(var m=[],d={},n,e=f.length;0!==e--;)(n=f[e])&&g(b(n),m,d);c[a]=m}var c=[],f=/[^a-z0-9]/g,m=/[\-_\s.?!;:,*^+=~`"(){}<>\[\]\/\\\u00a0\u1680\u180e\u2000-\u206f\u2e00-\u2e7f\u3000-\u303f]+/,e=l.require("$19","flatten.json");return{find:function(a,
f){var m=[],d=-1,n=c,e=n.length,v,h,w,k,C,A,l=g(b(a),[],{}),F=l.length,E=f?!0:!1;a:for(;++d<e;)if(w=n[d],null!=w&&(k=w.length)){C=0;b:for(;C<F;C++){A=l[C];for(v=0;v<k;v++)if(h=w[v],0===h.indexOf(A))continue b;continue a}m.push(E?f[d]:d)}return m},add:function(a,f){c[a]=g(b(f),[],{})},push:function(f){a(c.length,f)},index:function(c,f){a(c,f)},size:function(){return c.length},clear:function(){c=[]},remove:function(a){c[a]=null}}};return d}({},s,y));l.register("$22",function(d,e,h){d.create=function(){var d=
[],b=l.require("$6","fulltext.js").init();return{add:function(g,a){b.add(d.length,a);d.push(g);return this},find:function(g){return b.find(g,d)},clear:function(){d=[];b.clear();return this}}};return d}({},s,y));l.register("$9",function(d,e,s){function k(b){-1===b.indexOf("?")&&(b="/auto/"+b+".json?q=");this.url=b;this.dead={}}function b(){this.dict=l.require("$22","dict.js").create()}d.init=function(g){function a(){if("hint"!==F){var a=A.val()&&!(J&&J.val())&&null==u&&!v;s[a?"addClass":"removeClass"]("error")}}
function c(a){J&&J.val(a)}function f(){K.show();var a=A.outerWidth(!1),c=A.outerHeight(!1),f=A.css("margin-top");f&&(f=parseInt(f),isNaN(f)||(c+=f));a-=2;K.css("top",c+"px").css("width",a+"px");v=!0}function m(){K.hide();v=!1}function d(){K.html("");m();z=0;C=u=null}function e(c){d();var b;for(b=0;b<c.length;b++){var m=b,n=c[b],g=n.value,t=n.lang||g.lang,C=h('<span class="label"></span>').text(n.label),v=h('<div class="auto-comp-result"></div>'),p=void 0,k=void 0;if(k=n.icon)p=h("<span></span>").attr("class",
k).appendTo(v),t?(p.attr("lang",t),n.lang=t):-1!==k.indexOf("lang-"+g)&&(p.attr("lang",g),n.lang=g);for(k in n)v.data(k,n[k]);v.append(C);q(m,v)}(z=c.length)?(I&&f(),r(0)):(r(null),a(),s.trigger("locoAutonone",[]))}function q(a,c){K.append(c);c.click(function(f){f.stopPropagation();r(a,c);n();return!1});return c}function r(a,f){C&&(C.removeClass("selected"),C=null);u=null;null==a?c(""):(f||(f=K.find("div.auto-comp-result").eq(a)),f.length&&(f.addClass("selected"),u=a,C=f))}function t(a){if(z){var c=
z-1;null==u?a=0<a?0:c:(a=u+a,0>a?a=c:a>c&&(a=0));return r(a)}}function n(){if(null==u)H.val(""),c("");else{var f=K.find("div.auto-comp-result").eq(u),b=f.data()||{label:"Error"},n=b.value,g=b.label;c(n);H.val(g);m();f=f.clone();f.data(b);d();q(0,f);z=1;r(0,f);a();f.trigger("locoAutocomp",[n,g,f])}}var z=0,v=!1,I=!1,B=g.form,u=null,C=null,A=h(g),D=A.attr("name"),F=A.attr("data-mode"),E=A.attr("data-provider"),J="hint"!==F&&h('<input type="hidden" value="" name="'+D+'" />').appendTo(B),s=h('<div class="auto-comp-wrap"></div>').replaceAll(A),
K=h('<div class="auto-comp-drop"></div>');E&&(E=new k(E));J&&A.attr("name","_"+D);A.attr("autocomplete")||A.attr("autocomplete","off");s.append(A).append(K);m();A.focus(function(a){I=!0;1<z&&f()}).blur(function(c){I=!1;a()}).keydown(function(a){function c(){a.preventDefault();a.stopPropagation();return!1}switch(a.keyCode){case 27:v&&(a.stopPropagation(),m(),A.blur());break;case 40:z&&(v?t(1):f());break;case 38:v&&t(-1);break;case 13:if(v)return n(),c();if(!u&&"hint"!==F)return c()}return!0});var H=
l.require("$7","LocoTextListener.js").listen(A,function(a){E&&E.fetch(a,e)});(B=A.attr("data-pre"))&&(B=h.parseJSON(B))&&B.value&&B.label?(e([B]),n()):!g.value||J&&J.val()||!E||E.fetch(g.value,function(a){e(a);n()});return{$:A,val:function(){return J&&J.val()},clear:d,reset:function(){d();A.val("");c("");H.ping()},force:function(a,f){d();c(f||"");H.val(a)},preload:function(a){z&&d();E=new b;var c,f;for(c in a)f=a[c],E.add(f)},mode:function(a){F=a},provide:function(a){E=new k(a)}}};k.prototype.fetch=
function(b,a){if(!b)return a&&a([]),this.dead={},this;var c,f=this.dead;for(c in f)if(0===b.indexOf(c))return a&&a([]),this;c={dataType:"json",url:this.url+encodeURIComponent(b)};l.require("$21","http.js").ajax(c,function(c){var d=c&&c.results;d&&(a&&c.query&&c.query===b&&a(c.results),d.length||(f[b]=0));return!0});return this};b.prototype.add=function(b){var a=b.fulltext||b.label||b.value;a&&this.dict.add(b,a)};b.prototype.fetch=function(b,a){var c=b?this.dict.find(b):[];a&&a(c);return this};return d}({},
s,y));l.register("$8",function(d,e,s){function k(a){a.stopPropagation();a.preventDefault();return!1}function b(a,c,f){if(f=f||a.getElement(c))f.off().mouseup(function(f){f.stopPropagation();a.selectIndex(c,!0);return!1}).mouseover(function(){h(this).addClass("over");a.hover=c;return!0}).mouseout(function(){h(this).removeClass("over");a.hover=-1;return!0}),f=null;return a}function g(a){if(a){var c,f=a[0],b=f.id,g=f.title,d=[],e=[],r=-1,t=f.options.length,n,z=this.selectedIcon||"";this.id=b||"";this.name=
f.name||"";this.prefix=f.getAttribute("data-prefix");for(this.defaultIcon=f.getAttribute("data-icon")||"icon no-icon";++r<t;)c=f.options[r],n=c.disabled,c.selected&&d.push(r),c=h(c),e.push([c.val(),c.text(),c.attr("data-icon")||z,n,c.attr("lang")]);this.hidden||(this.hidden=h('<input type="hidden" name="'+this.name+'" value="" />').appendTo(f.form));this.list=h('<ul class="clearfix"></ul>');this.icon=h('<span class="icon"> </span>');this.selection=h('<span class="label"></span>');this.handle=h('<a class="handle" href="#"></a>').attr("tabindex",
a.attr("tabindex")||"").append(this.icon).append(this.selection);c=h('<div class="selector"></div>').addClass(f.className).append(this.handle).append(this.list).replaceAll(f);b&&c.attr("id",b);g&&a.hasClass("hastip")&&(c.attr("title",g),l.require("$20","tooltip.js").init(c,{gravity:a.attr("data-gravity")||"s",anchor:a.attr("data-anchor")}));this.wrapper=c;for(this.clearOptions();c=e.shift();)this.addOption.apply(this,c);this.enable();this.close();if(t=d.length)for(r=0;r<t;r++)this.selectIndex(d[r]);
else r=f.selectedIndex,null!=r&&0<=r&&this.selectIndex(r)}}d.create=function(a){return new g(a)};d.extend=function(a){a.parent=g;a.prototype=new g};e=g.prototype;e.enable=function(){var a=this;a.handle.click(function(a){a.preventDefault();return!1}).mouseover(function(c){return a.onRollover(c)}).mouseout(function(c){return a.onRollout(c)}).mousedown(function(c){return a.onPress(c)}).keydown(function(c){return a.onKeydown(c)});h(s).mouseup(function(c){return a.onRelease(c)}).keydown(function(c){return a.onGlobalKeydown(c)})};
e.onRollover=function(a){return this.over=!0};e.onRollout=function(a){this.over=!1;return!0};e.onPress=function(a){return this.active?this.over?(this.close(),a.stopPropagation(),a.preventDefault(),!1):!0:(this.open(),a.stopPropagation(),a.preventDefault(),this.handle.focus(),!1)};e.onRelease=function(a){this.active&&!this.over&&this.close();return!0};e.onGlobalKeydown=function(a){if(this.active)switch(a.keyCode){case 27:return this.close(),k(a);case 40:return this.hoverNext(1),k(a);case 38:return this.hoverNext(-1),
k(a);case 13:if(-1!=this.hover)return this.selectIndex(this.hover,!0),this.hoverItem(-1),this.close(),k(a)}return!0};e.onKeydown=function(a){return this.active||40!==a.keyCode?!0:(this.open(),k(a))};e.open=function(){var a=this.list,c=this.wrapper,f=c.data("tipsy"),b=this.handle,g=b.outerHeight()||0;this.active=!0;this.hover=-1;c.addClass("active");a.show().css("top",g+"px");f&&f.disable();c=b.outerWidth()||0;f=a.outerWidth()||0;c>f&&(f-=a.width(),a.css("min-width",String(c-f)+"px"))};e.close=function(){var a=
this.wrapper,c=a.data("tipsy");this.list.hide();this.active=!1;-1!==this.hover&&(this.getElement(this.hover).removeClass("over"),this.hover=-1);a.removeClass("active");c&&c.enable()};e.hoverItem=function(a,c){-1!==this.hover&&this.getElement(this.hover).removeClass("over");this.hover=a;-1!==a&&(c=c||this.getElement(a),c.addClass("over"))};e.hoverNext=function(a){var c=this.options.length;if(c){c-=1;if(-1==this.hover)a=0<a?0:c;else{a=this.hover+a;if(0>a){this.close();return}a>c&&(a=0)}this.hoverItem(a)}};
e.enableChange=function(a){this.eventName=a;this.eventData=[].slice.call(arguments,1);return this};e.enableConfirm=function(a){this.confirm=a;return this};e.clearOptions=function(){this.index={};this.length=0;this.options=[];this.list.html("");this.hidden.val("");this.idx=this.hover=-1;return this};e.destroy=function(){this.clearOptions();this.hidden.remove()};e.addOption=function(a,c,f,m,g){var d=this.options.length,e=h("<span></span>").addClass(f||"icon no-icon"),r=h('<span class="label"></span>').text(c||
a),r=h("<li></li>").append(e).append(r).appendTo(this.list);g?g=g.split("-").shift():f&&-1!==f.indexOf("lang-"+a)&&(g=a);g&&e.attr("lang",g);r.attr("data-option",d);this.options[d]={value:a,text:c,lang:g||"",icon:f};this.index[a]=d;this.length=d+1;m?this.disableIndex(d):b(this,d,r);return d};e.disableOption=function(a){return this.disableIndex(this.index[a])};e.disableIndex=function(a){(a=this.getElement(a))&&a.addClass("disabled").off();return this};e.enableOption=function(a){return this.enableIndex(this.index[a])};
e.enableIndex=function(a){return b(this,a)};e.reIndex=function(){this.index={};this.length=0;for(var a=this.options.length;0!==a--;)this.index[this.options[a].value]=a,this.length++};e.selectValue=function(a,c){return this.selectIndex(this.index[a],c)};e.selectIndex=function(a,c){var f=this.options[a];if(f){var b=this,g=b.idx,d=f.value,e=f.icon||b.defaultIcon,r=function(){null!=g&&b.getElement(g).removeClass("active");b.getElement(a).addClass("active");b.setLabel(f.text).setIcon(e,f.lang);b.hidden.val(d);
b.idx=a;c&&b.change()};g===a?b.hidden.val(d):c?"function"===typeof b.confirm?b.confirm.call(null,f,function(a){a&&r()}):b.beforeChange(d)&&r():r();b.active&&b.close()}return this};e.setLabel=function(a){this.selection.text(a);this.prefix&&this.selection.prepend(h('<span class="prefix"></span>').text(this.prefix));return this};e.setIcon=function(a,c){this.icon.attr("class",a).attr("lang",c||"");return this};e.val=function(){var a=this.options[this.idx];return a&&a.value};e.change=function(){var a=
this.val(),c=this.save,f=this.eventName||"change",b=[a].concat(this.eventData||[]);this.wrapper.trigger(f,b);c&&c(a);return this};e.beforeChange=function(a){var c=h.Event("locoBeforeSelect");this.wrapper.trigger(c,[a]);return!c.isDefaultPrevented()};e.renameOption=function(a,c){var f=this.index[a],b=this.options[f];b&&(b.text=c,this.getElement(f).find("span.label").text(c),f===this.idx&&this.setLabel(c));return this};e.removeOption=function(a){var c=this.index[a],f=this.options[c];f&&(a=this.val(),
this.getElement(c).remove(),this.options.splice(c,1),this.reIndex(),a===f.value?this.selectIndex(0,!0):this.selectValue(a,!1))};e.getElement=function(a){return this.list.find("li").eq(a)};e.persist=function(a){var c=this.id||this.name,f=a.fetch(c);null!=f&&this.selectValue(f,!0);this.save=function(f){a.store(c,f)};return this};e.listen=function(a){return this.on(this.eventName||"change",a)};e.on=function(a,c){this.wrapper.on(a,c);return this};e=null;return d}({},s,y));l.register("$30",function(d,
e,s){function k(b){var g=[],a=h([]);this.hidden=a;this.selected=g;this.selectedIcon="icon icon-checkbox";this.constructor.call(this,b);this.wrapper.addClass("multi");for(var c,f,m,d=h('<input type="checkbox" name="'+this.name+'[]" />')[0],e=this.options,q=e.length,r=-1;++r<q;)c=this.getElement(r)[0],m=d.cloneNode(!0),g[r]&&(m.checked=!0),m.setAttribute("value",e[r].value),a.push(c.appendChild(m));(f=this.defaultIcon)&&this.setIcon(f);(f=b.attr("title"))?this.setLabel(f):this.wrapper.addClass("no-title")}
d.create=function(b){return new k(b)};l.require("$8","LocoSelector.js").extend(k);e=k.prototype;e.selectIndex=function(b,g){return this.setIndexState(b,!this.selected[b],g)};e.setIndexState=function(b,g,a){var c=this.options[b],f=this.getElement(b),m=this.hidden[b],d=this.selected;c&&g!==d[b]&&(d[b]=g,f[g?"addClass":"removeClass"]("checked"),m&&(m.checked=g),a&&this.change());return this};e.selectValue=function(b,g){if(null==b.pop)return k.parent.prototype.selectValue.call(this,b,g);for(var a=this.selected.slice(),
c=this.options.length,f=!1,d=-1,e=-1;++d<c;)a[d]&&(f=!0),a[d]=!1;if(c=b.length)for(;++e<c;)d=this.index[b[e]],!1===a[d]&&(f=a[d]=!0);if(f){for(d in a)this.setIndexState(d,a[d]);g&&this.change()}return this};e.val=function(){for(var b=[],g=this.options,a=this.selected,c=a.length,f=-1;++f<c;)a[f]&&b.push(g[f].value);return b};e=null;return d}({},s,y));l.register("$15",function(d,e,s){var k=e.ieVersion;d.ie=function(b){return b?k<=b:k};var b=d.init=function(g){g?g instanceof jQuery||(g=h(g)):g=h(s.body);
var a=l.require("$28","ga.js"),c=l.require("$16","forms.js"),f=l.require("$29","modal.js"),m=l.require("$9","LocoAutoComplete.js"),e=l.require("$8","LocoSelector.js"),p=l.require("$30","LocoMultiSelector.js"),q=l.require("$20","tooltip.js");g.find("form").each(function(a,b){var n=h(b);k&&10>k&&c.placeholders(n);b.getAttribute("data-modal")?f.initForm(b):b.action&&0!==n.attr("action").indexOf("#")&&!b.target&&c.jsonify(b);n.hasClass("hasreveal")&&c.revealify(n);n.find("input.auto-comp").each(function(a,
c){m.init(c)});n.find("select.selector").each(function(a,c){c.hasAttribute("multiple")?p.create(h(c)):e.create(h(c))});n.find("button.hastip").each(function(a,c){q.init(h(c))})});g.find("a").each(function(c,g){-1!==g.className.indexOf("hastip")&&q.init(h(g));if(-1!==g.href.indexOf("/modal/")||g.getAttribute("data-modal"))f.initLink(h(g));else{a.link(g);var n=g.getAttribute("data-ajax-target");n&&(n=h("#"+n),h(g).click(function(a){a.preventDefault();n.addClass("loading");h.get(g.href,function(a){a=
d.$(a).replaceAll(n);b(a);a.trigger("locoAhah")});return!1}))}});c=f=m=g=null;return d};d.$=function(b){return h(e.innerShiv?innerShiv(b,!1):b)};h.fn._html=function(g){return null!=g?(g=this.html(e.innerShiv?innerShiv(g,!1):g),b(this),g):j.html()};h.fn.macro=function(b,a){if("function"!==typeof b.run)throw Error("macro has no run function");b.run(this,a||{});return this};d.el=function(b,a){var c=s.createElement(b||"div");a&&(c.className=a);return c};d.txt=function(b){return s.createTextNode(b||"")};
d.h=function(){function b(){f=/[<>&]/g;d=/(\r\n|\n|\r)/g;e=/(?:https?):\/\/([a-zA-Z0-9\-_\.\?%~&;=\/]+(?:#.*)?)/g;b=null}function a(a){return"&#"+a.charCodeAt(0)+";"}function c(a,c){return'<a href="'+a+'">'+c+"</a>"}var f,d,e;return function(h,q){b&&b();var r=h.replace(f,a);q&&(r=r.replace(d,"<br />").replace(e,c));return r}}();d.noop=function(b){b.preventDefault();b.stopPropagation();return!1};return d}({},s,y));l.register("$16",function(d,e,s){function k(a){function c(){a.value===g&&(a.value="",
d.removeClass("placeheld"));return!0}function b(){""===a.value&&(a.value=g,d.addClass("placeheld"));return!0}var d=h(a);if(!d.hasClass("auto-comp")){var g=d.attr("placeholder");if(g)return d.focus(c).blur(b),b(),{kill:function(){c();d.off("focus",c).off("blur",b)}}}}var b=d.enable=function(a){function c(a,c){c.getAttribute("data-was-disabled")||(c.disabled=!1)}a.find(".button").removeClass("loading");a.find("button").each(c);a.find("input").each(c);a.find("select").each(c);a.find("textarea").each(c);
e.attachEvent&&a.hasClass("has-placeholders")&&d.placeholders(a);delete a._disabled},g=d.disable=function(a){function c(a,c){c.disabled?c.setAttribute("data-was-disabled","true"):c.disabled=!0}a._disabled||(a.find(".button").addClass("loading"),a.find("button").each(c),a.find("input").each(c),a.find("select").each(c),a.find("textarea").each(c),a._disabled=!0)};d.jsonify=function(a,c,f){a instanceof jQuery||(a=h(a));a.disable||(h.fn.disable=function(){g(this);return this},h.fn.enable=function(){b(this);
this.placehold&&this.placehold();return this});var d="";a.find('[type="submit"]').click(function(a){a&&a.target&&a.target.name&&(d=encodeURIComponent(a.target.name)+"="+encodeURIComponent(a.target.value));return!0});a.submit(function(b){if(b&&b.isDefaultPrevented&&b.isDefaultPrevented()||f&&!1===f(b))return!1;var g=e.tinyMCE;g&&a.find("textarea.editor").each(function(a,c){var b=g.get(c.id);b&&b.save()});var t=a.serialize(),t=t.replace(/%0D%0A/g,"%0A");d&&(t&&(t+="&"),t+=d,d="");a.disable();var n=
l.require("$21","http.js"),t={url:n.jsonLink(a.attr("action")),type:a.attr("method"),data:t};n.ajax(t,c,function(){a.enable()},a);b.preventDefault();b.stopPropagation();return!1});if(a.hasClass("autopost")){var w,p=Number(a.attr("data-autopost-delay")||500);a.find('input[type="checkbox"]').change(function(){w&&clearTimeout(w);w=setTimeout(function(){a.submit()},p);return!0})}};d.revealify=function(a){a=a.closest("form");a.find("div[data-reveal-if]").each(function(c,b){function d(a){var c;v=v||a.target;
if("."===n)c=Boolean(v&&v[z]),r&&(c=!c);else{var b,f=h(v.form).serializeArray();for(b in f)f[b].name===t&&(c=f[b].value);c=r?z!==c:z===c}if(c!==q)if(q=c,a)g[q?"slideDown":"slideUp"](200);else g[q?"show":"hide"]();return!0}var g=h(b),e=/^(\!?)([_\w\-\[\]]+)(\.|!?=)(.*)$/.exec(g.attr("data-reveal-if"));if(e){var q,r=e[1],t=e[2],n=e[3],z=e[4],e=a[0][t];if(e.type||null==e.length)e=[e];c=e.length;for(var v;0!==c--;)v=e[c],d(),h(v).change(d).removeClass("jshide");e=e=v=null}});a=null};d.linkify=function(a){var c=
a.getAttribute("data-icon");if(c){var b=h(a),d=h("<a> </a>");d.attr("href",a.form.action);d.attr("class",b.attr("class"));d.attr("tabindex",b.attr("tabindex"));b.attr("tabindex","-1");d.text(b.val());c&&h("<span></span>").prependTo(d).addClass(c);b.hide().after(d);d.click(function(a){b.click();return!1})}};d.placeholders=function(a){var c,b=[];a.find("input[placeholder]").each(function(a,d){"password"!==d.type&&(c=k(d))&&b.push(c)});b.length&&(a.submit(function(){for(var a in b)b[a].kill()}),a.addClass("has-placeholders"),
c=i=null)};return d}({},s,y));l.register("$31",function(d,e,h){d.trim=function(d,b){for(b||(b=" \n");d&&-1!==b.indexOf(d.substr(0,1));)d=d.substr(1);for(;d&&-1!==b.indexOf(d.substr(-1));)d=d.substr(0,d.length-1);return d};d.sprintf=function(d){var b=0,g,a=[].slice.call(arguments,1);return d.replace(/%(s|u|%)/g,function(c,f){if("%"===f)return"%";g=a[b++];return String(g)||""})};return d}({},s,y));l.register("$17",function(d,e,h){function k(){return function(b,d,a){return null==a?b||"":Number(1!=a)?
d||b:b||""}}d.create=function(b){b||(b=k());var d=l.require("$31","string.js").sprintf;return{s:d,_:b,_s:function(a){arguments[0]=b(a);return d.apply(null,arguments)},_n:b}};return d}({},s,y));l.register("$4",function(d,e,h){d.create=function(){return l.require("$17","t.js").create(e.locoScope.t)};return d}({},s,y));l.register("$2",function(d,e,s){function k(a,c,b){function f(){d();g=setTimeout(c,b)}function d(){g&&clearTimeout(g);g=null}var g;f();h(a).mouseenter(d).mouseleave(f);return{die:function(){d();
h(a).off("mouseenter mouseleave")}}}function b(a,c){a.fadeTo(c,0,function(){a.slideUp(c,function(){a.remove();h(e).triggerHandler("resize")})})}function g(a,c){function f(c){w[g]=null;b(h(a),250);d&&d.die();var e;if(e=c)c.stopPropagation(),c.preventDefault(),e=!1;return e}var d,g;h('<button type="button" class="notice-dismiss" href="#"> </a>').prependTo(a).click(f);h(e).triggerHandler("resize");p();g=w.length;w.push(f);c&&(d=k(a,f,c))}function a(a,c,b){var f=l.require("$15","html.js");a=h('<div class="notice notice-'+
a+'" loco-notice inline></div>').prependTo(h("#loco-notices"));var d=h(f.el("p"));b=h(f.el("span")).text(b);c=h(f.el("strong","has-icon")).text(c+": ");d.append(c).append(b).appendTo(a);return a}function c(c,b,f,n){c=a(f,b,c).hide().fadeIn(500);h(e).triggerHandler("resize");g(c,n);return d}function f(){h("#loco-notices").find("div.notice").each(function(a,c){g(c,!1)})}var m,w=[],p=Date.now||function(){return(new Date).getTime()};d.error=function(a){return c(a,m("Error"),"error")};d.warning=function(a){return c(a,
m("Warning"),"warning")};d.info=function(a){return c(a,m("Notice"),"info")};d.success=function(a){return c(a,m("OK"),"success",5E3)};d.log=function(){e.console&&console.log&&console.log.apply(console,arguments)};d.debug=function(a,c){e.console&&console.error&&(console.error("Loco Error: "+a),c&&console.debug&&console.debug(c))};d.clear=function(){var a,c,b=w;for(a in b)(c=b[a])&&c();w=[];return d};d.create=a;d.raise=function(a){var c=d;(c[a.type]||c.error).call(c,a.message)};d.init=function(){m=l.require("$4",
"l10n.js").create()._;setTimeout(f,1E3);return d};return d}({},s,y));l.register("$3",function(d,e,s){function k(a,b,d,e){function p(b,f,n){var g=l.require("$4","l10n.js").create()._,e=b.responseText,p=h("<pre>"+e+"</pre>").text();/\S/.test(p)||(p=e);q.debug("Ajax failure for "+a,{status:b.status,error:f,message:n,output:e});q.log("Provide this text when reporting a problem:\n--8<--\n",p,"\n------");"parsererror"===f?q.error("Server returned invalid data, check console output"):q.error(n||g("Unknown error"));
d&&d(b,f,n)}e.url=g;e.dataType="json";e.error=p;e.success=function(a,c,d){var g=a&&a.data,e=a&&a.notices,m=e&&e.length;for(!g||a.error?p(d,c,a&&a.error&&a.error.message):b&&b(g,c,d);m--;)q.raise(e[m])};var q=l.require("$2","notices.js").clear();return h.ajax(e)}var b={},g=e.ajaxurl||"/wp-admin/admin-ajax.php",a=e.encodeURIComponent;d.init=function(a){b=a.nonces||b;return d};d.submit=function(a,b,d){function g(){e.removeClass("loading");l.require("$16","forms.js").enable(e)}var e=h(a),q=e.serialize();
e.addClass("loading");l.require("$16","forms.js").disable(e);return k(a.route.value,function(a,c,d){g();b&&b(a,c,d)},function(a,c,b){g();d&&d(a,c,b)},{type:a.method,data:q})};d.post=function(c,f,d,g){var p;(p=b[c])||(e.console&&console.debug&&console.debug('No nonce for "'+c+'"'),p="");p="action=loco_json&route="+a(c)+"&loco-nonce="+a(p);(f=f?h.param(f):"")&&(p+="&"+f);return k(c,d,g,{type:"post",data:p})};d.setNonce=function(a,f){b[a]=f;return d};return d}({},s,y));l.register("$18",{arab:1,aran:1,
hebr:1,nkoo:1,syrc:1,syrn:1,syrj:1,syre:1,samr:1,mand:1,mend:1,thaa:1,adlm:1,cprt:1,phnx:1,armi:1,prti:1,phli:1,phlp:1,phlv:1,avst:1,mani:1,khar:1,orkh:1,ital:1,lydi:1,ar:1,ary:1,ckb:1,dv:1,fa:1,he:1,nqo:1,ps:1,ur:1,yi:1});l.register("$5",function(d,e,h){function k(){}var b,g,a=l.require("$18","rtl.json");d.init=function(){return new k};d.cast=function(a){return a instanceof k?a:"string"===typeof a?d.parse(a):d.clone(a)};d.clone=function(a){var b,d=new k;for(b in a)d[b]=a[b];return d};d.parse=function(a){b||
(g=/[-_+]/,b=/^([a-z]{2,3})(?:-([a-z]{4}))?(?:-([a-z]{2}|[0-9]{3}))?(?:-([0-9][a-z0-9]{3,8}|[a-z0-9]{5,8}))?(?:-([a-z]-[-a-z]+))?$/i);a=String(a).split(g).join("-");if(!b.exec(a))return null;var f=new k;f.lang=RegExp.$1.toLowerCase();if(a=RegExp.$2)f.script=a.charAt(0).toUpperCase()+a.substr(1).toLowerCase();if(a=RegExp.$3)f.region=a.toUpperCase();if(a=RegExp.$4)f.variant=a.toLowerCase();if(a=RegExp.$5)f.extension=a;return f};e=k.prototype;e.isValid=function(){return!!this.lang};e.toString=function(a){a=
a||"-";var b,d=this.lang||"zxx";if(b=this.script)d+=a+b;if(b=this.region)d+=a+b;if(b=this.variant)d+=a+b;if(b=this.extension)d+=a+b;return d};e.getIcon=function(){for(var a=4,b,d,g=["variant","region","script","lang"],e=[];0!==a--;)if(b=g[a],d=this[b])1===a&&3===d.length?e.push("region-m49"):e=e.concat([b,b+"-"+d.toLowerCase()]);return e.join(" ")};e.isRTL=function(){return!!a[String(this.script||this.lang).toLowerCase()]};e=null;return d}({},s,y));l.register("$33",function(d,e,h){function k(a){e.console&&
console.error&&console.error(a)}function b(){k("Method not implemented")}function g(){}function a(a){}g.prototype.toString=function(){return"[Undefined]"};a.prototype._validate=function(a){var f,d,e=!0;for(f in this)d=this[f],d===b?(k(a+"."+f+"() must be implemented"),e=!1):d instanceof g&&(k(a+"."+f+" must be defined"),e=!1);return e};d.init=function(c,f){var d,e=new a;if(c)for(d=c.length;0!==d--;)e[c[d]]=b;if(f)for(d=f.length;0!==d--;)e[f[d]]=new g;return e};d.validate=function(a){var b=/function (\w+)\(/.exec(a.toString())?
RegExp.$1:"";a.prototype._validate(b||"Object")};return d}({},s,y));l.register("$41",function(d,e,h){var k=e.requestAnimationFrame,b=e.cancelAnimationFrame,g=0;if(!k||!b)for(var a in{ms:1,moz:1,webkit:1,o:1})if(k=e[a+"RequestAnimationFrame"])if(b=e[a+"CancelAnimationFrame"]||e[a+"CancelRequestAnimationFrame"])break;k&&b||(k=function(a){var b=c();timeToCall=Math.max(0,16-(b-g));nextTime=b+timeToCall;timerId=e.setTimeout(function(){a(nextTime)},timeToCall);g=nextTime;return timerId},b=function(a){clearTimeout(a)});
var c=Date.now||function(){return(new Date).getTime()};d.loop=function(a,c){function d(){e=k(d,c);a(g++)}var g=0,e;d();return{stop:function(){e&&b(e);e=null}}};return d}({},s,y));l.register("$38",function(d,e,h){function k(c,b,f,d){if(a){var e=f;f=function(a){if((a.MSPOINTER_TYPE_TOUCH||"touch")===a.pointerType)return e(a)}}c.addEventListener(b,f,d);return{unbind:function(){c.removeEventListener(b,f,d)}}}function b(a){a.preventDefault();a.stopPropagation();return!1}var g,a=!!e.navigator.msPointerEnabled,
c=a?"MSPointerDown":"touchstart",f=a?"MSPointerMove":"touchmove",m=a?"MSPointerUp":"touchend";d.ok=function(a){null==g&&(g="function"===typeof h.body.addEventListener);g&&a&&a(d);return g};d.ms=function(){return a};d.dragger=function(a,d){function e(c){a.addEventListener(c,h[c],!1)}function g(c){a.removeEventListener(c,h[c],!1)}var h={};h[c]=function(a){w(a,function(b,f){f.type=c;d(a,f,v)});e(f);e(m);return!0};h[m]=function(a){g(f);g(m);w(a,function(c,b){b.type=m;d(a,b,v)});return!0};h[f]=function(a){w(a,
function(c,b){b.type=f;d(a,b,v)});return b(a)};e(c);var v={kill:function(){g(c);g(f);g(m);a=v=d=null}};return v};d.swiper=function(d,e,g){function n(a){d.addEventListener(a,C[a],!1)}function h(a){d.removeEventListener(a,C[a],!1)}function v(){k&&k.stop();k=null}var k,B,u,C={},A=[],D=[],F=[];C[c]=function(a){B=!1;v();var c=p();w(a,function(a,b){A[a]=c;D[a]=b.clientX;F[a]=b.clientY});u=d.scrollLeft;return!0};C[m]=function(a){w(a,function(a,c){var b=p()-A[a],f=D[a]-c.clientX,b=Math.abs(f)/b;e(b,f?0>f?
-1:1:0)});u=null;return!0};C[f]=function(a){var c,f;null==u||w(a,function(a,b){c=D[a]-b.clientX;f=F[a]-b.clientY});if(f&&Math.abs(f)>Math.abs(c))return B=!0;c&&(B=!0,d.scrollLeft=Math.max(0,u+c));return b(a)};if(!a||g)n(c),n(f),n(m),a&&(d.className+=" mstouch");return{kill:function(){h(c);h(f);h(m);v()},swiped:function(){return B},ms:function(){return a},snap:function(c){a&&!g&&(d.style["-ms-scroll-snap-points-x"]="snapInterval(0px,"+c+"px)",d.style["-ms-scroll-snap-type"]="mandatory",d.style["-ms-scroll-chaining"]=
"none")},scroll:function(a,c,b){v();var f=d.scrollLeft,e=a>f?1:-1,g=Math[1===e?"min":"max"],n=Math.round(16*c*e);return k=l.require("$41","fps.js").loop(function(c){c&&(f=Math.max(0,g(a,f+n)),d.scrollLeft=f,a===f&&(v(),b&&b(f)))},d)}}};d.start=function(a,b){return k(a,c,b,!1)};d.move=function(a,c){return k(a,f,c,!1)};d.end=function(a,c){return k(a,m,c,!1)};var w=d.each=function(c,b){if(a)(c.MSPOINTER_TYPE_TOUCH||"touch")===c.pointerType&&b(0,c);else for(var f=-1,d=(c.originalEvent||c).changedTouches||
[];++f<d.length;)b(f,d[f])},p=Date.now||function(){return(new Date).getTime()};return d}({},s,y));l.register("$42",function(d,e,s){d.init=function(d,b){function e(f){if(a!==f){q.text(String(f));var d=b===f,g=d||f<b;changedState=d?2:g?1:3;if(changedState!==c){var h=r;d&&(h+=" maxed");g||(h+=" invalid");m.attr("class",h);c=changedState}a=f}}var a,c,f=l.require("$15","html.js"),m=h(d.parent()).on("changing",function(a,c){e(c.length)}),w=h(f.el("span","total")).text(String(b)),p=h(f.el("span","separ")).text("/"),
q=h(f.el("span","count")),r=m.attr("class")||"";h(f.el("div","counter")).append(q).append(p).append(w).appendTo(m);e(d.val().length);f=w=p=null};return d}({},s,y));l.register("$39",function(d,e,s){function k(a){function c(){var c=a.value;c!==d&&(d=c,b.trigger("changing",[c]))}var b=h(a),d=a.value,e;b.blur(function(){b.off("input paste");c();g=null;e!==d&&b.trigger("changed",[d]);b.trigger("editBlur");return!0}).focus(function(h){g=a;e=d;b.on("input paste",c);b.trigger("editFocus");return!0});return{kill:function(){b.off("input paste blur focus")},
fire:function(){d=null;c()}}}function b(a){this.e=a}var g;d.init=function(a){var c=new b(a);a.disabled?c.disable():c.enable();(a=c.attr("lang"))&&c.locale(a);(a=c.attr("maxlength"))&&c.max(Number(a));return c};d.create=function(a,c){var f=s.createElement("textarea"),f=new b(f);c?f.enable():f.disable();return f.attr("wrap","virtual")};TextAreaPrototype=b.prototype;TextAreaPrototype.val=function(a){if(null==a)return this.e.value;this.e.value=a;return this};TextAreaPrototype.fire=function(){this.l&&
this.l.fire();return this};TextAreaPrototype.focus=function(){return h(this.e).focus()};TextAreaPrototype.focused=function(){return g&&g===this.el};TextAreaPrototype.parent=function(){return this.e.parentNode};TextAreaPrototype.attr=function(a,c){var b=this.e;if(1===arguments.length)return b.getAttribute(a);null==c?b.removeAttribute(a):b.setAttribute(a,c);return this};TextAreaPrototype.editable=function(){return!!this.l};TextAreaPrototype.enable=function(){var a=this.e;a.removeAttribute("readonly");
a.removeAttribute("disabled");this.listen();return this};TextAreaPrototype.disable=function(){this.e.setAttribute("disabled",!0);this.unlisten();return this};TextAreaPrototype.listen=function(){var a=this.l;a&&a.kill();this.l=k(this.e);return this};TextAreaPrototype.unlisten=function(){this.l&&this.l.kill();this.l=null;return this};TextAreaPrototype.locale=function(a){if(null==a)return this.loc;this.loc=a=l.require("$5","locale.js").cast(a);this.attr("lang",String(a));return this.rtl(a.isRTL())};
TextAreaPrototype.rtl=function(a){this.attr("dir",a?"RTL":"LTR");return this};TextAreaPrototype.max=function(a){if(0===arguments.length)return this.n||0;this.n=a;l.require("$42","counter.js").init(this,a);return this};TextAreaPrototype=null;return d}({},s,y));l.register("$40",function(d,e,l){function k(a){var c=e.console;c&&c.error&&c.error(a)}function b(a){var c=l.createElement("div");a&&c.setAttribute("class",a);return c}function g(a){return function(){a.resize();return this}}function a(a){return function(c){var b=
c.target.$r;if(null==b)return!0;a.select(b);c.stopPropagation();c.preventDefault();return!1}}function c(a){return function(){a.redrawDirty()&&a.redraw();return!0}}function f(a){return function(c){var b;b=c.keyCode;if(40===b)b=1;else if(38===b)b=-1;else return!0;if(c.shiftKey||c.ctrlKey||c.metaKey||c.altKey)return!0;a.selectNext(b);c.stopPropagation();c.preventDefault();return!1}}function m(a){this.w=a}function w(a,c,b){var f=l.createElement("div");f.className=b||"";this._=f;this.d=c;this.i=a;this.length=
c.length}function p(a){this.live=a;this.rows=[]}d.create=function(a){return new m(a)};var q=m.prototype;q.init=function(d){var e=this.w,n=e.id,m=e.splity(n+"-thead",n+"-tbody"),v=m[0],m=m[1],p=[],q=[];v.css.push("wg-thead");m.css.push("wg-tbody");d.eachCol(function(a,c){p.push(n+"-col"+a);q.push(c)});for(var k=b(),C=-1,A=p.length,l=b("wg-cols"),F=v.splitx.apply(v,p);++C<A;)F[C].header(q[C]),l.appendChild(k.cloneNode(!1));var E=[];d.eachRow(function(a,c,b){E[a]=new w(a,c,b)});d=m.body;this.rows=E;
this.cols=l;this.root=d;v.redraw=g(this);v=m.fixed=F[0].bodyY()||20;e.lock().resize(v,m);e.css.push("is-table");e.restyle();this.redrawDirty();this.render();h(d).attr("tabindex","-1").on("keydown",f(this)).on("mousedown",a(this)).on("scroll",c(this));return this};q.clear=function(){for(var a=this.pages||[],c=a.length;0!==c--;)a[c].destroy();this.pages=[];this.sy=this.mx=this.mn=this.vh=null;void 0;return this};q.render=function(){for(var a,c,b=[],f=-1,d=this.rows||[],e=this.f,g=e?!0:!1,h=g?e.length:
d.length,m=this.r,q=this._r,k=this.root,l=this.cols;++f<h;)0===f%100&&(c=l.cloneNode(!0),c=new p(c),c.h=2200,c.insert(k),b.push(c)),a=g?e[f]:f,a=d[a],a.page=c,c.rows.push(a);c&&100!==c.size()&&c.sleepH(22);this.pages=b;this.mx=this.mn=null;this.redrawDirty();this.redraw();null==m?null!=q&&(a=d[q])&&a.page&&(delete this._r,this.select(q,!0)):(a=d[m])&&a.page?this.select(m,!0):(this.deselect(),this._r=m);return this};q.resize=function(){var a=-1,c=this.ww||(this.ww=[]),b=this.w,f=b.cells[0],d=f.body.childNodes,
e=d.length,g=this.pages||[],m=g.length;for(b.redraw.call(f);++a<e;)c[a]=d[a].style.width;if(m){b=this.mx;for(a=this.mn;a<=b;a++)g[a].widths(c);this.redrawDirty()&&this.redraw()}};q.redrawDirty=function(){var a=!1,c=this.root,b=c.scrollTop,c=c.clientHeight;this.sy!==b&&(a=!0,this.sy=b);this.vh!==c&&(a=!0,this.vh=c);return a};q.redraw=function(){for(var a=0,c=-1,b=null,f=null,d=this.ww,e=this.sy,g=this.vh,m=this.mn,h=this.mx,p=Math.max(0,e-100),e=g+e+100,q=this.pages||[],k=q.length;++c<k&&!(a>e);)g=
q[c],a+=g.height(),a<p||(null===b&&(b=c),f=c,g.rendered||g.render(d));if(m!==b){if(null!==m&&b>m)for(c=m;c<b;c++){g=q[c];if(!g)throw Error("Shit!");g.rendered&&g.sleep()}this.mn=b}if(h!==f){if(null!==h&&f<h)for(c=h;c>f;c--)g=q[c],g.rendered&&g.sleep();this.mx=f}};q.selected=function(){return this.r};q.thead=function(){return this.w.cells[0]};q.tbody=function(){return this.w.cells[1]};q.tr=function(a){return(a=this.rows[a])?a.cells():[]};q.td=function(a,c){return this.tr(a)[c]};q.next=function(a,c,
b){null==b&&(b=this.r);for(var f,d=this.rows,e=b,g=d.length;b!==(e+=a);)if(0<=e&&g>e){if(f=d[e],f.page)break}else if(c&&g)e=1===a?-1:g,c=!1;else{e=null;break}return e};q.selectNext=function(a,c,b){a=this.next(a,c);null!=a&&this.r!==a&&this.select(a,b);return this};q.deselect=function(a){var c=this.r;null!=c&&(this.r=null,h(this.tr(c)).removeClass("selected"),this.w.fire("wgRowDeselect",[c,a]));return this};q.select=function(a,c){var b=this.rows[a],f=b&&b.page;if(!f)return this.deselect(!1),k("Row is filtered out"),
this;this.deselect(!0);var d=this.w.cells[1];f.rendered||(d.scrollY(f.top()),this.redrawDirty()&&this.redraw());if(!b.rendered)return k("Row not rendered"),this;f=b.cells();h(f).addClass("selected");this.r=a;if(!c){var e=d.scrollY();h(this.root).focus();e!==d.scrollY()&&d.scrollY(e)}d.scrollTo(f[0],!0);this.w.fire("wgRowSelect",[a,b.data()]);return this};q.unfilter=function(){this.f&&(this.f=null,this.clear().render());return this};q.filter=function(a){this.f=a;return this.clear().render()};q=null;
q=w.prototype;q.render=function(a){var c,b=[],f=this._,d=this.d,e=this.length,g=this.i;if(f){for(;0!==e--;)b[e]=c=f.cloneNode(!1),c.textContent=d[e]||"\u00a0",c.$r=g,a[e].appendChild(c);this._=null;this.c=b}else for(b=this.c;0!==e--;)a[e].appendChild(b[e]);this.rendered=!0;return this};q.cells=function(){return this.c||[]};q.data=function(){return this.d||[]};q.destroy=function(){this.page=null;this.rendered=!1};q=null;q=p.prototype;q.size=function(){return this.rows.length};q.insert=function(a){var c=
this.h,f=b("wg-dead");f.style.height=String(c)+"px";a.appendChild(f);return this.dead=f};q.top=function(){return(this.rendered?this.live:this.dead).offsetTop};q.height=function(){var a=this.h;null==a&&(this.h=a=this.rendered?this.live.firstChild.offsetHeight:this.dead.offsetHight);a||k("row has zero height");return a};q.render=function(a){for(var c,b=-1,f=this.rows,d=f.length,e=this.dead,g=this.live,m=g.childNodes;++b<d;)c=f[b],c.rendered||c.render(m);d=a.length;for(b=0;b<d;b++)m[b].style.width=a[b];
e.parentNode.replaceChild(g,e);this.rendered=!0;this.h=null;return this};q.sleep=function(){var a=this.height(),c=this.live,b=this.dead;b.style.height=String(a)+"px";c.parentNode.replaceChild(b,c);this.rendered=!1;this.h=a;return this};q.sleepH=function(a){a*=this.rows.length;var c=this.dead;c&&(c.style.height=String(a)+"px");this.rendered||(this.h=a);return this};q.widths=function(a){for(var c=this.live.childNodes,b=a.length;0!==b--;)c[b].style.width=a[b];return this};q.destroy=function(){var a=
this.rendered?this.live:this.dead,c=this.rows,b=c.length;for(a.parentNode.removeChild(a);0!==b--;)c[b].destroy()};q=null;return d}({},s,y));l.register("$34",function(d,e,s){function k(a,b){var d=a.id,e=d&&r[d],g=e&&e.parent();if(!e||!g)return null;var m=g.dir===q,d=m?"X":"Y",h="page"+d,m=m?c:f,p=m(g.el),d=b["offset"+d],k=g.el,l=k.className;null==d&&(d=b[h]-m(a));d&&(p+=d);k.className=l+" is-resizing";return{done:function(){k.className=l},move:function(a){g.resize(a[h]-p,e);return!0}}}function b(c,
b){function f(){h(s).off("mousemove",d);t&&(t.done(),t=null);return!0}function d(a){t?t.move(a):f();return!0}if(t)return!0;t=k(c.target,c);if(!t)return!0;h(s).one("mouseup",f).on("mousemove",d);return a(c)}function g(a,c){var b=c.type;"touchmove"===b?t&&t.move(c):"touchstart"===b?t=k(a.target,c):"touchend"===b&&t&&(t.done(),t=null)}function a(a){a.stopPropagation();a.preventDefault();return!1}function c(a,c){c||(c=s.body);for(var b=a.offsetLeft||0;(a=a.offsetParent)&&a!==c;)b+=a.offsetLeft||0;return b}
function f(a,c){c||(c=s.body);for(var b=a.offsetTop||0;(a=a.offsetParent)&&a!==c;)b+=a.offsetTop||0;return b}function m(a,c){var b=h(c).on("editFocus",function(c){b.trigger("wgFocus",[a])}).on("editBlur",function(a){b.trigger("wgBlur")})}function w(a){var c=this.id=a.id;this.el=a;this.pos=this.index=0;this.css=["wg-cell"];r[c]=this;this.clear()}var p=l.require("$15","html.js"),q=1,r={},t=!1;d.init=function(a){var c=new w(a);c.css.push("wg-root");c.redraw();l.require("$38","touch.js").ok(function(c){c.dragger(a,
g)});h(a).mousedown(b);return c};e=w.prototype;e.fire=function(a,c){var b=h.Event(a);b.cell=this;h(this.el).trigger(b,c);return this};e.each=function(a){for(var c=-1,b=this.cells,f=this.length;++c<f;)a(c,b[c]);return this};e.on=function(){return this.$("on",arguments)};e.off=function(){return this.$("off",arguments)};e.find=function(a){return h(this.el).find(a)};e.$=function(a,c){h.fn[a].apply(h(this.el),c);return this};e.parent=function(){return this.pid&&r[this.pid]};e.splitx=function(){return this._split(q,
arguments)};e.splity=function(){return this._split(2,arguments)};e._split=function(a,c){this.length&&this.clear();for(var b=-1,f,d=c.length,e=1/d,g=0;++b<d;){f=p.el();this.body.appendChild(f);for(var m=f,h=c[b],q=h,k=1;r[h];)h=q+"-"+ ++k;m.id=h;f=new w(f);f.index=b;f.pid=this.id;f.pos=g;g+=e;this.cells.push(f);this.length++}this.dir=a;this.redraw();return this.cells};e.destroy=function(){this.clear();delete r[this.id];var a=this.el;a.innerHTML="";h(a).off();return this};e.exists=function(){return this===
r[this.id]};e.clear=function(){for(var a=this.el,c=this.lang,b=this.cells,f=this.field,d=this.body,e=this.nav,g=this.length||0;0!==g--;)delete r[b[g].destroy().id];this.cells=[];this.length=0;e&&(a.removeChild(e),this.nav=null);d&&(f&&(p.ie()&&h(d).triggerHandler("blur"),f.unlisten(),this.field=null),this.table&&(this.table=null),a.removeChild(d));this.body=a.appendChild(p.el("","wg-body"));c&&this.locale(c);return this};e.resize=function(a,c){if(!c&&(c=this.cells[1],!c))return;var b=c.index,f=this.cells;
this.parent();var d=h(this.el)[this.dir===q?"width":"height"](),e=f[b+1],b=f[b-1];pad=(c.body||c.el.firstChild).offsetTop||0;max=(e?e.pos*d:d)-pad;min=b?b.pos*d:0;c.pos=Math.min(max,Math.max(min,a))/d;this.redraw();return this};e.distribute=function(a){for(var c,b=0,f=this.cells,d=a.length;b<d;)c=a[b],f[++b].pos=Math.max(0,Math.min(1,c));this.redraw();return this};e.distribution=function(){for(var a=[],c=0,b=this.cells,f=b.length-1;c<f;)a[c]=b[++c].pos;return a};e.restyle=function(){var a=this.css.concat();
0===this.index?a.push("first"):a.push("not-first");this.dir&&(a.push("wg-split"),2===this.dir?a.push("wg-split-y"):a.push("wg-split-x"));this.t&&a.push("has-title");this.nav&&a.push("has-nav");null!=this.field&&(a.push("is-field"),this.field?a.push("is-editable"):a.push("is-readonly"));a=a.join(" ");a!==this._css&&(this._css=this.el.className=a);return this};e.redraw=function(){this.restyle();var a=this.el,c=this.body;if(c){var b=a.clientHeight||0,f=c.offsetTop||0;f<b&&(b-=f);c.style.height=String(b)+
"px"}for(var c=this.length,d=1,e=this.nav,g=2===this.dir?"height":"width";0!==c--;)b=this.cells[c],e?f=1:(b.fixed&&(b.pos=b.fixed/h(a)[g]()),f=d-b.pos,d=b.pos),b.el.style[g]=String(100*f)+"%",b.redraw();return this};e.contents=function(a){var c=this.el,b=this.lang,f=this.body;if(null==a)return f.innerHTML;this.length?this.clear():f&&(c.removeChild(f),f=null);f||(f=this.body=c.appendChild(p.el("","wg-content")),b&&this.locale(b));"string"===typeof a?h(f)._html(a):a&&this.append(a);this.redraw();return this};
e.textarea=function(a,c){var b=this.field;c?b?a!==b.val()&&this.field.val(a):(b=p.el("textarea","wg-field"),b.value=a,b.name=this.id,this.contents(b),this.field=l.require("$39","basic.js").init(b).attr("wrap","virtual"),this.restyle(),m(this,b)):(this.contents(p.txt(a)),b&&b.unlisten(),this.field=!1,this.restyle());return this};e.locale=function(a){var c=this.body;a=l.require("$5","locale.js").cast(a);c&&(c.setAttribute("lang",String(a)),c.setAttribute("dir",a.isRTL()?"RTL":"LTR"));this.lang=a;return this};
e.editable=function(){var a=this.field;if(!a||!a.editable())for(var c=-1,b=this.length;++c<b&&!(a=this.cells[c].editable()););return a};e.append=function(a){a&&(a.nodeType?p.init(this.body.appendChild(a)):p.init(h(a).appendTo(this.body)));return this};e.prepend=function(a){var c=this.body;if(a.nodeType){var b=c.firstChild;p.init(b?c.insertBefore(a,b):c.appendChild(a))}else p.init(h(a).prependTo(c));return this};e.header=function(a,c){if(0===arguments.length)return this.el.getElementsByTagName("h2")[0];
var b=["wg-title"];c&&b.push(c);this.t=p.txt(a||"");this.el.insertBefore(p.el("h2",b.join(" ")),this.body).appendChild(this.t);this.redraw();return this};e.title=function(a){var c=this.t;if(c)return c.nodeValue=a||"",c;this.header(a);return this.t};e.titled=function(){var a=this.t;return a&&a.nodeValue};e.bodyY=function(){return f(this.body,this.el)};e.scrollY=function(a){if(S===a)return this.body.scrollTop;this.body.scrollTop=a};e.tabulate=function(a){return this.table=l.require("$40","wgtable.js").create(this).init(a)};
e.lock=function(){this.body.className+=" locked";return this};e.scrollTo=function(a,c){var b,d=this.body;b=d.scrollTop;var e=f(a,d);if(b>e)b=e;else{var g=d.clientHeight,e=e+h(a).outerHeight();if(g+b<e)b=e-g;else return}c?d.scrollTop=b:h(d).stop(!0).animate({scrollTop:b},250)};e.navigize=function(c,b){function f(a){var c=e[a],b=q[a],d=h(c.el).show();b.addClass("active");m=a;k.data("idx",a);c.fire("wgTabSelect",[a]);return d}var d=this,e=d.cells,g=d.nav,m,q=[];g&&d.el.removeChild(g);var g=d.nav=d.el.insertBefore(p.el("nav",
"wg-tabs"),d.body),k=h(g).on("click",function(c){var b=h(c.target).data("idx");if(null==b)return!0;if(null!=m){var g=q[m];h(e[m].el).hide();g.removeClass("active")}f(b);d.redraw();return a(c)});null==b&&(b=k.data("idx")||0);d.each(function(a,b){q[a]=h('<a href="#'+b.id+'"></a>').data("idx",a).text(c[a]).appendTo(k);b.pos=0;h(b.el).hide()});f(e[b]?b:0);d.lock();d.redraw();return d};e.navigated=function(){var a=this.nav;if(a)return h(a).data("idx")};e=null;return d}({},s,y));l.register("$24",function(d,
e,h){function k(b){this.reIndex([]);if(b)for(var d in b)this.add(d,b[d])}d.init=function(b){return new k(b)};e=k.prototype;e.reIndex=function(b){for(var d={},a=-1,c=b.length;++a<c;)d[b[a]]=a;this.keys=b;this.length=a;this.ords=d};e.key=function(b,d){if(null==d)return this.keys[b];var a=this.keys[b],c=this.ords[d];if(d!==a){if(null!=c)throw Error("Clash with item at ["+c+"]");this.keys[b]=d;delete this.ords[a];this.ords[d]=b}return b};e.indexOf=function(b){b=this.ords[b];return null==b?-1:b};e.add=
function(b,d){var a=this.ords[b];null==a&&(this.keys[this.length]=b,a=this.ords[b]=this.length++);this[a]=d;return a};e.get=function(b){return this[this.ords[b]]};e.has=function(b){return null!=this.ords[b]};e.del=function(b){this.cut(this.ords[b],1)};e.cut=function(b,d){d=d||1;var a=[].splice.call(this,b,d);this.keys.splice(b,d);this.reIndex(this.keys);return a};e.each=function(b){for(var d=-1,a=this.keys,c=this.length;++d<c;)b(a[d],this[d],d);return this};e.sort=function(b){for(var d=-1,a=this.length,
c,f=this.keys,e=this.ords,h=[];++d<a;)h[d]=[this[d],f[d]];h.sort(function(a,c){return b(a[0],c[0])});for(d=0;d<a;d++)c=h[d],this[d]=c[0],c=c[1],f[d]=c,e[c]=d;return this};e=null;return d}({},s,y));l.register("$23",function(d,e,s){function k(a){var c=[];a&&(a.saved()||c.push("po-unsaved"),a.fuzzy()?c.push("po-fuzzy"):a.flagged()&&(c.push("po-flagged"),c.push("po-flag-"+a.flags().join(" po-flag-"))),a.translation()||c.push("po-empty"),a.comment()&&c.push("po-comment"));return c.join(" ")}function b(a,
c,b){c=h(a.title(c).parentNode);var f=c.find("span").hide();b&&(b=l.require("$5","locale.js").cast(b),a.locale(b),f.length||(f=h("<span></span>").prependTo(c)),f.attr("lang",b.lang),f.attr("class",b.getIcon()||"lang region region-"+(b.region||"zz").toLowerCase()).show())}function g(){this.dirty=0}var a="poUpdate",c="changing",f="changed",m=0,w=1,p=2,q=3,r=4,t=5,n=/^[ \t\n\r]/,z,v,y=l.require("$15","html.js");d.extend=function(a){return a.prototype=new g};d.localise=function(a){v=a;return d};var B=
function(){var a=s.createElement("p");return function(c){a.innerHTML=c;return a.textContent}}(),u=g.prototype=l.require("$33","abstract.js").init(["getListColumns","getListHeadings","getListEntry"],["editable","t"]);u.init=function(){this.localise();this.editable={source:!0,target:!0};return this};u.localise=function(a){this.t=a||(a=v||l.require("$17","t.js").create());var c=[],b=a._;c[m]=b("Source text")+":";c[q]=b("Translation")+":";c[r]=b("%s translation")+":";c[w]=b("Single")+":";c[p]=b("Plural")+
":";c[t]=b("Context")+":";c[6]=b("Comments")+":";this.labels=c;return a};u.setRootCell=function(a){function c(){b.redraw(!0);return!0}var b=l.require("$34","wingrid.js").init(a);h(e).on("resize",c);this.redraw=c;h(a).on("wgFocus wgBlur",function(a,c){z=c});this.destroy=function(){b.destroy();h(e).off("resize",c)};this.rootDiv=a;return b};g.prototype.$=function(){return h(this.rootDiv)};u.on=function(a,c){return h(this.rootDiv).on(a,c)};u.setListCell=function(a){var c=this;c.listCell=a;a.on("wgRowSelect",
function(a,b){c.loadMessage(c.po.row(b));return!0}).on("wgRowDeselect",function(a,b,f){f||c.loadNothing();return!0})};u.setSourceCell=function(a){this.sourceCell=a;var c=a.find("p.notes");c.length||(c=h('<p class="notes"></p>').insertAfter(a.header()).hide());this.notesPara=c};u.next=function(a,c,b){for(var f=this.listTable,d=f.selected(),e=d,g,m=this.po;null!=(d=f.next(a,b,d));){if(e===d){d=null;break}if(c&&(g=m.row(d),g.translated(0)))continue;break}null!=d&&f.select(d,!0);return d};u.current=function(a){if(null==
a)return this.active;a?this.loadMessage(a):this.unloadActive();return this};u.getTargetEditable=function(){return this.editable.target&&this.targetCell&&this.targetCell.editable()};u.getSourceEditable=function(){return this.editable.source&&this.sourceCell&&this.sourceCell.editable()};u.getContextEditable=function(){return this.editable.context&&this.contextCell&&this.contextCell.editable()};u.getFirstEditable=function(){return this.getTargetEditable()||this.getSourceEditable()||this.getContextEditable()};
u.searchable=function(a){a&&(this.dict=a,this.po&&this.rebuildSearch());return this.dict&&!0};u.rebuildSearch=function(){var a=-1,c=this.po.rows,b=c.length,f=this.dict;for(f.clear();++a<b;)f.add(a,c[a].toText());this.lastSearch="";this.lastFound=b};u.filtered=function(){return this.lastSearch||""};u.filter=function(a,c){var b,f=this.listTable,d=this.lastFound,e=this.lastSearch;if(a){if(e===a)return d||0;if(e&&!d&&0===a.indexOf(e))return 0;b=this.dict.find(a)}e=this.lastSearch=a;d=this.lastFound=b?
b.length:this.po.length;b?f.filter(b):f.unfilter();c||this.fire("poFilter",[e,d]);return d};u.unsave=function(a,c){var b=!1;if(a=a||self.active){if(b=a.saved(c))this.dirty++,a.unsave(c),this.fire("poUnsaved",[a,c]);this.markUnsaved(a)}return b};u.markUnsaved=function(a){var c=this.po.indexOf(a),c=this.listTable.tr(c),b=c[0].className;changedStyle=b.replace(/(?:^| +)po-[a-z]+/g,"")+" "+k(a);changedStyle!==b&&h(c).attr("class",changedStyle)};u.save=function(a){var c=this.po;if(this.dirty||a)c.each(function(a,
c){c.save()}),this.listCell.find("div.po-unsaved").removeClass("po-unsaved"),this.dirty=0,this.fire("poSave");return c};u.fire=function(a,c){var b=this.on;if(b&&b[a]&&(b=b[a].apply(this,c||[]),!1===b))return!1;b=h.Event(a);h(this.rootDiv).trigger(b,c);return!b.isDefaultPrevented()};u.reload=function(){var a=this,c,b=a.listCell,f=a.listTable,d=a.po,e=d&&d.length||0;if(d&&d.row)return a.lastSearch&&(a.lastSearch="",a.lastFound=e,a.fire("poFilter",[a.lastSearch,a.lastFound])),f&&(c=f.thead().distribution()),
f=a.listTable=b.tabulate({length:e,getRow:function(c){return a.getListEntry(d.row(c))},getCss:function(c){return a.getListEntry(d.row(c))},eachCol:function(c){for(var b=-1,f=a.getListHeadings(),d=f.length;++b<d;)c(b,f[b])},eachRow:function(c){var b=0;d.each(function(f,d){c(b++,a.getListEntry(d),k(d))})}}),c&&f.thead().distribute(c),a.targetLocale=a.po.locale(),a.fire("poLoad"),!!a.po.length;b&&b.clear().header("Error").contents("Invalid messages list")};u.load=function(a,c){this.po=a;this.dict&&this.rebuildSearch();
this.reload()&&(-1!==c?this.listTable.select(c||0):this.active&&this.unloadActive())};u.loadMessage=function(d){function e(){var g,h=s,q=s.id,h=N[m];G&&(Q?(Q=y.h(Q,!0),G.html(Q).show(),y.init(G)):G.text("").hide());s.titled()!==h&&b(s,h,k.sourceLocale);P?(g=s.splity(q+"-singular",q+"-plural"),h=g[0],g=g[1],h.header(N[w]).textarea(T,O),g.header(N[p]).textarea(P,O),s.lock()):s.textarea(T,O);O&&s.on(c,function(a,c){P&&a.target.name===q+"-plural"?d.plural(c):(d.source(c),k.updateListCell(d,"source"));
k.unsave(d,v)}).on(f,function(c){P&&c.target.name===q+"-plural"||k.po.reIndex(d);k.dict&&k.rebuildSearch();k.fire(a,[d])})}function g(e,h){var m=e.label,m=m&&-1===m.indexOf("Unknown")?V(N[r],m):N[q];u.titled()!==m&&b(u,m,e);if(d.pluralized()){var p=[],n=e.plurals||["One","Other"],w=l.require("$24","collection.js").init();for(d.each(function(a,c,b){if(b||n[a])p.push(n[a]||"Form "+a),w.add("plural-"+a,b)});(m=p.length)<e.nplurals;)p.push(n[m]||"Form "+w.length),w.add("plural-"+m,d.translation(m));children=
u.splitx.apply(u,w.keys);u.each(function(a,c){var b=L&&!d.disabled(a);c.textarea(w[a],b)});u.navigize(p,h||null).on("wgTabSelect",function(a,c){var b=L&&a.cell.editable();b&&b.focus();h=c;k.fire("poTab",[c])})}else h=0,L=L&&!d.disabled(0),u.textarea(d.translation(),L);L&&u.on(c,function(a,c){d.translate(c,h);0===h&&k.updateListCell(d,"target");d.fuzzy(h)?k.fuzzy(!1,d,h):k.unsave(d,h)}).on(f,function(c){k.dict&&k.rebuildSearch();k.fire(a,[d])})}function h(){b(B,N[t]);B.textarea(d.context(),!0);S&&
B.on(c,function(a,c){d.context(c);k.updateListCell(d,"source");k.unsave(d,v)}).on(f,function(){k.po.reIndex(d);k.dict&&k.rebuildSearch();k.fire(a,[d])})}var k=this,n=d===k.active,v=0,s=k.sourceCell,u=k.targetCell,B=k.contextCell,H=k.commentCell,G=k.notesPara,L=k.editable.target,O=k.editable.source,S=k.editable.context,T=d.source()||"",P=d.plural()||"",Q=d.notes(),M=z,R=n&&M,U=k.targetLocale,V=k.t.s,N=k.labels;n||(k.active=d);s&&s!==R&&(s.off().clear(),e());B&&B!==R&&(B.off().clear(),h());u&&U&&u!==
R&&(v=u.navigated()||0,u.off().clear(),g(U,v));if(H&&H!==R)H.off().clear().textarea(d.comment(),!0).on(c,function(a,c){d.comment(c);k.fire("poComment",[d,c]);k.unsave(d,v)});M&&(M.exists()||(M=M.parent()),(H=M.editable())&&H.focus());n||k.fire("poSelected",[d])};u.unloadActive=function(){var a;(a=this.notesPara)&&a.text("").hide();(a=this.sourceCell)&&a.off().clear();(a=this.contextCell)&&a.off().clear();(a=this.targetCell)&&a.off().clear();(a=this.commentCell)&&a.off();this.active&&(this.fire("poDeselected",
[this.active]),this.active=null);return this};u.loadNothing=function(){var a,c=this.t._;this.unloadActive();(a=this.commentCell)&&a.textarea("",!1);(a=this.sourceCell)&&a.textarea("",!1).title(c("Source text not loaded")+":");(a=this.contextCell)&&a.textarea("",!1).title(c("Context not loaded")+":");(a=this.targetCell)&&a.textarea("",!1).title(c("Translation not loaded")+":");this.fire("poSelected",[null])};u.updateListCell=function(a,c){var b=this.getListColumns()[c],d=this.getListEntry(a)[b||0],
f=this.po.indexOf(a);this.listTable.td(f,b).textContent=d};u.cellText=function(a){if(-1!==a.indexOf("<")||-1!==a.indexOf("&"))a=B(a);""===a?a="\u00a0":n.test(a)&&(a="\u00a0"+a);return a};u.fuzzy=function(c,b,d){if(!b){b=this.active;if(!b)return null;null==d&&(d=this.targetCell&&this.targetCell.navigated()||0)}var f=b.fuzzy(d);null==c||f==c||c&&!b.translated(d)||!this.fire("poFuzzy",[b,c,d])||(b.fuzzy(d,c),this.fire(a,[b])&&this.unsave(b,d));return f};u.add=function(c,b){var d,f=this.po.get(c,b);f?
d=this.po.indexOf(f):(d=this.po.length,f=this.po.add(c,b),this.load(this.po,-1),this.fire("poAdd",[f]),this.fire(a,[f]));this.lastSearch&&this.filter("");this.listTable.select(d);return f};u.del=function(c){if(c=c||this.active){var b=this.lastSearch,d=this.po.del(c);null!=d&&(this.unsave(c),this.fire("poDel",[c]),this.fire(a,[c]),this.reload(),this.dict&&this.rebuildSearch(),this.active&&this.active.equals(c)&&this.unloadActive(),this.po.length&&(b&&this.filter(b),this.active||(d=Math.min(d,this.po.length-
1),this.listTable.select(d))))}};u=null;return d}({},s,y));l.register("$10",function(d,e,h){function k(){this.init()._validate();var b=this.t._;this.sourceLocale={lang:"en",label:"English",plurals:[b("Single"),b("Plural")]}}var b=l.require("$23","base.js");d.init=function(b){var a=new k,c=a.t._;b=a.setRootCell(b);var d=b.splity("po-list","po-edit"),e=d[0],h=d[1],d=h.splitx("po-trans","po-comment"),p=d[0],q=d[1].header(c("Comments")+":"),d=p.splity("po-source","po-target"),p=d[0].header(c("Source text")+
":"),c=d[1].header(c("Translation")+":");b.distribute([0.34]);h.distribute([0.8]);a.setListCell(e);a.setSourceCell(p);a.targetCell=c;a.commentCell=q;a.editable.source=!1;return a};d.localise=function(e){b.localise(e);return d};e=k.prototype=b.extend(k);e.getListHeadings=function(){return[this.t._("Source text"),this.t._("Translation")]};e.getListColumns=function(){return{source:0,target:1}};e.getListEntry=function(b){if(!b)return["",""];var a=this.cellText,c=[a(b.id||b.source()||""),a(b.translation()||
"")];if(b=b.context())c[0]+=" [ "+a(b)+" ]";return c};e.stats=function(){var b=this.po.length,a=0,c=0,d=0;this.po.each(function(b,e){e.translation()?e.fuzzy()?d++:a++:c++});return{t:b,p:String(a?Math.round(100*(a/b)):0)+"%",f:d,u:c}};e.unlock=function(){this._unlocked||(this._unlocked=this.targetLocale,delete this.targetLocale,this.po&&this.po.unlock(),this.editable={source:!0,context:!0,target:!1},this.contextCell=this.targetCell,delete this.targetCell,this.fire("poLock",[!1]),this.active&&this.loadMessage(this.active))};
e.lock=function(){var b;this._unlocked&&(b=this.targetLocale=this._unlocked,delete this._unlocked,this.po&&this.po.lock(b),this.editable={source:!1,context:!1,target:!0},this.targetCell=this.contextCell,delete this.contextCell,this.fire("poLock",[!0,b]),this.active&&this.loadMessage(this.active))};e.locked=function(){return!this._unlocked};return d}({},s,y));l.register("$11",function(d,e,l){function k(a){(a||(a=editor.getFirstEditable()))&&a.fire();return a}var b={copy:66,clear:75,save:83,fuzzy:85,
next:40,prev:38,enter:13},g={38:!0,40:!0},a={66:function(a,b){var d=b.current(),e;d&&(d.normalize(),b.current(!1).current(d),(e=b.getTargetEditable())&&k(e))},75:function(a,b){var d=b.current(),e;d&&(d.untranslate(),b.current(!1).current(d),(e=b.getTargetEditable())&&k(e))},85:function(a,b){b.fuzzy(!b.fuzzy())},13:function(a,b){b.getFirstEditable()&&b.next(1,!0,!0)},40:function(a,b){var d=a.shiftKey;b.next(1,d,d)},38:function(a,b){var d=a.shiftKey;b.next(-1,d,d)}};d.init=function(c,d){function m(b){if(b.isPropagationStopped()||
!b.metaKey&&!b.ctrlKey)return!0;var d=b.which;if(!k[d])return!0;var f=a[d];if(!f)throw Error("No such command");if(b.altKey||b.shiftKey&&!g[d])return!0;f(b,c);b.preventDefault();return!1}var k={};h(d||e).on("keydown",m);return{add:function(c,d){a[b[c]]=d;return this},enable:function(){var a,c;for(c in arguments)a=b[arguments[c]],k[a]=!0;return this},disable:function(){h(d||e).off("keydown",m);c=d=k=null}}};return d}({},s,y));l.register("$25",function(d,e,h){function k(b,d){var a=RegExp("^.{1,"+(b-
1)+"}["+d+"]"),c=RegExp("^[^"+d+"]+");return function(d,e){for(var g=d.length,h;g>b;){h=a.exec(d)||c.exec(d);if(null==h)break;h=h[0];e.push(h);h=h.length;g-=h;d=d.substr(h)}0!==g&&e.push(d);return e}}d.create=function(b){function d(a){return p[a]||"\\"+a}var a,c,f=/(?:\r\n|[\r\n\v\f\u2028\u2029])/g,e=/[ \r\n]+/g,h=/[\t\v\f\x07\x08\\\"]/g,p={"\t":"\\t","\v":"\\v","\f":"\\f","\u0007":"\\a","\b":"\\b"};null==b&&(b=79);0!==b&&(a=k(b-3," "),c=k(b-2,"-\u2013 \\.,:;\\?!\\)\\]\\}\\>"));return{pair:function(a,
e){if(!e)return a+' ""';e=e.replace(h,d);var m=0;e=e.replace(f,function(){m++;return"\\n\n"});if(!(m||b&&b<e.length+a.length+3))return a+' "'+e+'"';var k=[a+' "'],p=e.split("\n");if(c)for(var l=-1,s=p.length;++l<s;)c(p[l],k);else k=k.concat(p);return k.join('"\n"')+'"'},prefix:function(a,c){var b=a.split(f);return c+b.join("\n"+c)},refs:function(c){c=c.replace(e," ",c);a&&(c=a(c,[]).join("\n#: "));return"#: "+c}}};return d}({},s,y));l.register("$26",function(d,e,h){function k(){}d.extend=function(b){return b.prototype=
new k};e=k.prototype=l.require("$33","abstract.js").init(["add","load"]);e.row=function(b){return this.rows[b]};e.lock=function(b){return this.locale(b||{lang:"zxx",label:"Unknown",nplurals:1,pluraleq:"n!=1"})};e.unlock=function(){var b=this.loc;this.loc=null;return b};e.locale=function(b){var d=l.require("$5","locale.js");null==b?b=this.loc:this.loc=b=d.cast(b);return b};e.each=function(b){this.rows.each(b);return this};e.indexOf=function(b){"object"!==typeof b&&(b=this.get(b));if(!b)return-1;null==
b.idx&&(b.idx=this.rows.indexOf(b.hash()));return b.idx};e.get=function(b){return this.rows&&this.rows.get(b)};e.del=function(b){b=this.indexOf(b);if(-1!==b){var d=this.rows.cut(b,1);if(d&&d.length)return this.length=this.rows.length,this.rows.each(function(a,c,b){c.idx=b}),b}};e.reIndex=function(b,d){var a=this.indexOf(b),c=b.hash(),f=this.rows.indexOf(c);return f===a?a:-1!==f?(d=(d||0)+1,b.source("Error, duplicate "+String(d)+": "+b.source()),this.reIndex(b,d)):this.rows.key(a,c)};e=null;return d}({},
s,y));l.register("$27",function(d,e,h){function k(){this.id=this._id=this.ref=this.cmt=this.xcmt=""}d.extend=function(b){return b.prototype=new k};e=k.prototype;e.flag=function(b,d){var a=this.flg||(this.flg=[]);if(null!=d)a[d]=b;else for(var c=Math.max(a.length,this.src.length,this.msg.length);0!==c--;)a[c]=b;return this};e.flagged=function(b){var d=this.flg||[];if(null!=b)return d[b]||0;for(b=d.length;0!==b--;)if(d[b])return!0;return!1};e.flags=function(){for(var b,d={},a=[],c=this.flg||[],f=c.length;0!==
f--;)b=c[f],d[b]||(d[b]=!0,a.push(b));return a};e.flaggedAs=function(b,d){var a=this.flg||[];if(null!=d)return b===a[d]||0;for(var c=a.length;0!==c--;)if(a[c]===b)return!0;return!1};e.fuzzy=function(b,d){var a=this.flaggedAs(4,b);null!=d&&this.flag(d?4:0,b);return a};e.source=function(b,d){if(null==b)return this.src[d||0]||"";this.src[d||0]=b;return this};e.plural=function(b,d){if(null==b)return this.src[d||1]||"";this.src[d||1]=b||"";return this};e.each=function(b){for(var d=-1,a=this.src,c=this.msg,
f=Math.max(a.length,c.length);++d<f;)b(d,a[d],c[d]);return this};e.pluralized=function(){return 1<this.src.length||1<this.msg.length};e.translate=function(b,d){this.msg[d||0]=b||"";return this};e.untranslate=function(b){null!=b&&(this.msg[b]="");for(b=0;b<this.msg.length;b++)this.msg[b]="";return this};e.translation=function(b){return this.msg[b||0]||""};e.translated=function(b){if(arguments.length)return!!this.translation(b);for(b=0;b<this.msg.length;b++)if(!this.msg[b])return!1;return!0};e.comment=
function(b){if(null==b)return this.cmt;this.cmt=b||"";return this};e.notes=function(b){if(null==b)return this.xcmt;this.xcmt=b||"";return this};e.refs=function(b){if(null==b)return this.ref;this.ref=b||"";return this};e.format=function(b){if(null==b)return this.fmt;this.fmt=b;return this};e.context=function(b){if(null==b)return this.ctx||"";this.ctx=b||"";return this};e.toString=e.toText=function(){return this.src.concat(this.msg,[this.id,this.ctx]).join(" ")};e.weight=function(){var b=0;this.translation()||
(b+=2);this.fuzzy()&&(b+=1);return b};e.equals=function(b){return this===b||this.hash()===b.hash()};e.hash=function(){return this.id};e.normalize=function(){for(var b=this.msg.length;0!==b--;)this.msg[b]=this.src[b]||""};e.disabled=function(b){return!!(this.lck||[])[b||0]};e.disable=function(b){(this.lck||(this.lck=[]))[b||0]=!0;return this};e.saved=function(b){var d=this.drt;if(!d)return!0;if(null!=b)return!d[b];for(b=d.length;0!==b--;)if(d[b])return!1;return!0};e.unsave=function(b){(this.drt||(this.drt=
[]))[b||0]=!0;return this};e.save=function(b){var d=this.drt;null==b?this.drt=null:d[b]=!1;return this};e=null;return d}({},s,y));l.register("$12",function(d,e,h){function k(a,b){var d=a||"";b&&(d+="\x00"+b);return d}function b(){return l.require("$24","collection.js").init()}function g(a){this.locale(a);this.length=0;this.rows=b()}function a(a,b){this.src=[a||""];this.msg=[b||""]}d.create=function(a){return new g(a)};e=l.require("$26","messages.js").extend(g);e.now=function(){return(new Date).toString()};
e.header=function(a,b){var d=this.head||(this.head={});if(null==b)return this.headers()[a]||"";d[a]=b||"";return this};e.headers=function(a){var b,d=this.head||(this.head={});if(null!=a){for(b in a)d[b]=a[b];return this}var e=this.locale(),g=this.now();a={"Project-Id-Version":"PACKAGE VERSION","Report-Msgid-Bugs-To":"","POT-Creation-Date":g||"","POT-Revision-Date":g||"","PO-Revision-Date":g||"","Last-Translator":"","Language-Team":"",Language:"","Plural-Forms":"","MIME-Version":"1.0","Content-Type":"text/plain; charset=UTF-8",
"Content-Transfer-Encoding":"8bit"};for(b in d)a[b]=String(d[b]);e?(a.Language=String(e)||"zxx",a["Language-Team"]=e.label||a.Language,a["Plural-Forms"]="nplurals="+(e.nplurals||"2")+"; plural="+(e.pluraleq||"n!=1"),a["PO-Revision-Date"]=g,delete a["POT-Revision-Date"]):(a.Language="",a["Plural-Forms"]="nplurals=INTEGER; plural=EXPRESSION",a["POT-Revision-Date"]=g,a["PO-Revision-Date"]="YEAR-MO-DA HO:MI+ZONE");a["X-Generator"]="Loco - https://localise.biz/";return a};e.get=function(a,b){var d=k(a,
b);return this.rows.get(d)};e.add=function(c,b){c instanceof a||(c=new a(c));b&&c.context(b);var d=c.hash();if(this.rows.get(d))throw Error("Duplicate message at index "+this.indexOf(c));c.idx=this.rows.add(d,c);this.length=this.rows.length;return c};e.load=function(b){for(var d=-1,e,g,h,k,l,t,n=[],s=[],v=[],y=[];++d<b.length;)e=b[d],null==e.parent?(g=e.source||e.id,h=e.target||"",k=e.context,g||k?(l=new a(g,h),l._id=e._id,k&&l.context(k),e.flag&&l.flag(e.flag,0),e.comment&&l.comment(e.comment),e.notes&&
l.notes(e.notes),e.refs&&l.refs(e.refs),null!==e.format&&l.format(e.format),e.message=l,l.translation()?l.fuzzy()?v.push(l):s.push(l):y.push(l)):0===d&&"object"===typeof h&&(this.head=h)):n.push(e);for(d=-1;++d<n.length;)try{e=n[d];g=e.source||e.id;l=b[e.parent]&&b[e.parent].message;if(!l)throw Error("parent missing for plural "+g);t=e.plural;1===t&&l.plural(g);e.flag&&l.flag(e.flag,t);l.translate(e.target||"",t)}catch(B){}return this._add(y,v,s)};e._add=function(a,b,d){d=[a,b,d];for(i=0;3>i;i++)for(b=
d[i],a=-1;++a<b.length;)try{this.add(b[a])}catch(e){}return this};e.merge=function(a){var d,e=this.rows,g=[],h=[],k=[],l=[],t=[];a=a.rows;this.rows.each(function(b,d){null==a.get(b)&&t.push(d)});a.each(function(a,b){try{(d=e.get(a))?(d.ref=b.ref,d.fmt=b.fmt):(d=b,l.push(d)),d.translation()?d.fuzzy()?h.push(d):k.push(d):g.push(d)}catch(c){}});this.rows=b();this._add(g,h,k);return{add:l,del:t}};e.toString=function(){var b,d=[],e=[],g=this.headers(),h=!this.loc,k=l.require("$25","format.js").create(void 0);
for(b in g)e.push(b+": "+g[b]);e=new a("",e.join("\n"));h&&e.fuzzy(0,!0);d.push(e.toString());d.push("");this.rows.each(function(a,b){a&&(d.push(b.cat(k,h)),d.push(""))});return d.join("\n")};e=l.require("$27","message.js").extend(a);e.hash=function(){return k(this.source(),this.context())};e.source=function(a,b){if(null==a)return this.src[0];this.src[0]=a;null!=b&&this.plural(b);return this};e.toString=function(){return this.cat(l.require("$25","format.js").create(void 0))};e.cat=function(a,b){var d,
e=[],g;(g=this.cmt)&&e.push(a.prefix(g,"# "));(g=this.xcmt)&&e.push(a.prefix(g,"#. "));d=this.ref;if(g=this._id)d+=(d?" ":"")+"loco:"+g;d&&/\S/.test(d)&&e.push(a.refs(d));!b&&this.fuzzy()&&e.push("#, fuzzy");(g=this.fmt)?e.push("#, "+g+"-format"):null!=g&&e.push("#, no-c-format");(g=this.ctx)&&e.push(a.pair("msgctxt",g));e.push(a.pair("msgid",this.src[0]));if(null==this.src[1])e.push(a.pair("msgstr",b?"":this.msg[0]));else for(d=-1,e.push(a.pair("msgid_plural",this.src[1]));++d<this.msg.length;)e.push(a.pair("msgstr["+
d+"]",b?"":this.msg[d]));return e.join("\n")};e.compare=function(a,b){var d=this.weight(),e=a.weight();if(d>e)return 1;if(d<e)return-1;if(b){d=this.hash().toLowerCase();e=a.hash().toLowerCase();if(d<e)return 1;if(d>e)return-1}return 0};e=e=null;return d}({},s,y));l.register("$13",function(d,e,l){d.init=function(d){function b(){D&&D.dialog("close");h(d).find('input[type="submit"]').attr("disabled",!1);h(n).addClass("jshide");t&&t(!0)}function g(){h(d).find('input[type="submit"]').attr("disabled",!0);
t&&t(!1)}function a(a){var b,c;for(b in r)c=r[b],a[b]?a[b].value=c:h('<input type="hidden" />').attr("name",b).appendTo(a).val(c)}function c(a){a.preventDefault();a=h(a.target).serializeArray();q(a);v=!0;return!1}function f(a){a.preventDefault();D.dialog("close");return!1}function m(a){a.preventDefault();D.dialog("open");return!1}function l(e){r=e.authed&&e.creds;s=e.method;if(r)"direct"!==s&&(a(d),v&&e.success&&B.notices.success(e.success)),y=!0,b();else if(y=!1,e.reason)B.notices.info(e.reason);
else if(e=e.prompt){var g;D||(h(n).find("button.button-small").click(m),D=h('<div id="loco-fs-creds"></div>').dialog({dialogClass:"request-filesystem-credentials-dialog loco-modal",minWidth:480,modal:!0,autoOpen:!1,closeOnEscape:!0}));g=D;g.html(e).find("form").submit(c);g.dialog("option","title",g.find("h2").remove().text());g.find("button.cancel-button").show().click(f);g.find('input[type="submit"]').addClass("button-primary");h(n).removeClass("jshide")}else B.notices.error("Server didn't return credentials, nor a prompt for credentials")}
function p(){b()}function q(a){v=!1;a.path=u;a.auth=C;B.ajax.setNonce("fsConnect",A).post("fsConnect",a,l,p);return a}var r,t,n=d,s=null,v=!1,y=!1,B=e.locoScope,u=d.path.value,C=d.auth.value,A=d["loco-nonce"].value,D;d.connection_type?(r={},r.connection_type=d.connection_type.value,y=!0):u&&C&&(g(),q({}));return{applyCreds:function(b){if(b.nodeType)a(b);else{var c,d=r||{};for(c in d)b[c]=d[c]}return this},setForm:function(b){d=b;y||g();a(b);return this},connect:function(){var a=h(d).serializeArray();
u=a.path;C=a.auth;q(a);return this},listen:function(a){t=a;y&&a(!0);return this}}};return d}({},s,y));l.register("$14",function(d,e,l){function k(a,b){return function(d){a.apply(d,b);return d}}function b(a){return function(b,d){var e=b&&b[a]||0,g=d&&d[a]||0;return e===g?0:e>g?1:-1}}function g(a){return function(b,d){return(b&&b[a]||"").localeCompare(d&&d[a]||"")}}function a(a){return function(b,d){return-1*a(b,d)}}d.sort=function(c){var d=[],e=[],l,p=0,q=c.getElementsByTagName("tbody")[0];if((c=c.getElementsByTagName("thead")[0])&&
q){var r=0;h("th",c).each(function(c,n){var s=n.getAttribute("data-sort-type");s&&(c=r,h(n).addClass("loco-sort").click(function(n){n.preventDefault();var r=c;n=-1;var s=e[r],u=s.type,y=!(s.desc=!s.desc),z=d,r="n"===u?b(r):g(r);y&&(r=a(r));d=k([].sort,[r])(z);for(h("tr",q).remove();++n<p;)q.appendChild(d[n].$);l&&l.removeClass("loco-desc loco-asc");l=h(s.$).addClass(y?"loco-desc":"loco-asc").removeClass(y?"loco-asc":"loco-desc");return!1}),e[r]={$:n,type:s});n.hasAttribute("colspan")?r+=Number(n.getAttribute("colspan")):
r++});h("tr",q).each(function(a,b){var c,g,h={_:a,$:b},k=b.getElementsByTagName("td");for(g in e){c=k[g];c=c.hasAttribute("data-sort-value")?c.getAttribute("data-sort-value"):c.textContent.replace(/(^\s+|\s+$)/g,"");switch(e[g].type){case "n":c=Number(c)}h[g]=c}d[a]=h});p=d.length}};return d}({},s,y));var G=s.locoScope||(s.locoScope={});s=s.locoConf||(s.locoConf={});l.require("$1","array.js");G.notices=l.require("$2","notices.js").init();G.ajax=l.require("$3","ajax.js").init(s);G.translator=l.require("$4",
"l10n.js").create();G.locale=l.require("$5","locale.js");G.fulltext=l.require("$6","fulltext.js");G.watchtext=l.require("$7","LocoTextListener.js").listen;G.selector=l.require("$8","LocoSelector.js").create;G.autocomp=l.require("$9","LocoAutoComplete.js").init;G.po={ed:l.require("$10","poedit.js"),kbd:l.require("$11","hotkeys.js"),init:l.require("$12","po.js").create};G.fs=l.require("$13","fsconn.js");h("#loco.wrap table.wp-list-table").each(function(d,e){l.require("$14","tables.js").sort(e)})})(window,
document,window.jQuery);